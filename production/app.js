var Base64Binary={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(a){var b=Math.ceil(3*a.length/4),b=new ArrayBuffer(b);this.decode(a,b);return b},decode:function(a,b){var c=this._keyStr.indexOf(a.charAt(a.length-1)),d=this._keyStr.indexOf(a.charAt(a.length-1)),f=Math.ceil(3*a.length/4);64==c&&f--;64==d&&f--;var e,g,k,h,l=0,n=0,c=b?new Uint8Array(b):new Uint8Array(f);a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(l=0;l<f;l+=3)e=this._keyStr.indexOf(a.charAt(n++)),
g=this._keyStr.indexOf(a.charAt(n++)),d=this._keyStr.indexOf(a.charAt(n++)),h=this._keyStr.indexOf(a.charAt(n++)),e=e<<2|g>>4,g=(g&15)<<4|d>>2,k=(d&3)<<6|h,c[l]=e,64!=d&&(c[l+1]=g),64!=h&&(c[l+2]=k);return c}};if("undefined"===typeof DOMLoader)var DOMLoader={};
if("undefined"===typeof XMLHttpRequest){var XMLHttpRequest;(function(){for(var a=[function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0;b<a.length;b++){try{a[b]()}catch(c){continue}break}XMLHttpRequest=a[b]})()}
if("undefined"===typeof(new XMLHttpRequest).responseText){var IEBinaryToArray_ByteStr_Script="\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\n<script type='text/vbscript'>\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex = LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last = \"\"\r\n   End If\r\nEnd Function\r\n\x3c/script>\r\n";document.write(IEBinaryToArray_ByteStr_Script);
DOMLoader.sendRequest=function(a){function b(a){for(var b={},c=0;256>c;c++)for(var g=0;256>g;g++)b[String.fromCharCode(c+256*g)]=String.fromCharCode(c)+String.fromCharCode(g);c=IEBinaryToArray_ByteStr(a);a=IEBinaryToArray_ByteStr_Last(a);return c.replace(/[\s\S]/g,function(a){return b[a]})+a}var c=XMLHttpRequest();c.open("GET",a.url,!0);a.responseType&&(c.responseType=a.responseType);a.onerror&&(c.onerror=a.onerror);a.onprogress&&(c.onprogress=a.onprogress);c.onreadystatechange=function(d){if(4===
c.readyState&&(200===c.status?c.responseText=b(c.responseBody):c=!1,a.onload))a.onload(c)};c.setRequestabb("Accept-Charset","x-user-defined");c.send(null);return c}}else DOMLoader.sendRequest=function(a){var b=new XMLHttpRequest;b.open(a.data?"POST":"GET",a.url,!0);b.overrideMimeType&&b.overrideMimeType("text/plain; charset=x-user-defined");a.data&&b.setRequestabb("Content-type","application/x-www-form-urlencoded");a.responseType&&(b.responseType=a.responseType);a.onerror&&(b.onerror=a.onerror);
a.onprogress&&(b.onprogress=a.onprogress);b.onreadystatechange=function(c){if(4===b.readyState)if(200!==b.status&&304!=b.status){if(a.onerror)a.onerror(c,!1)}else if(a.onload)a.onload(b)};b.send(a.data);return b};
var delayPerabt=4,aar=[[[]],[[0,3.98958,37,37,-5],[0,3.98958,49,29,-1],[0,0.333333,56,46,1],[0.333333,0.333333,61,30,2],[0.666667,0.333333,64,43,4],[1,0.333333,56,38,1],[1.33333,0.333333,61,29,2],[1.66667,0.333333,64,32,4],[2,0.333333,56,32,1],[2.33333,0.333333,61,25,2],[2.66667,0.333333,64,25,4],[3,0.333333,56,33,1],[3.33333,0.333333,61,29,2],[3.66667,0.333333,64,29,4]],[[4,3.98958,35,42,-5],[4,3.98958,47,38,-1],[4,0.333333,56,25,1],[4.33333,0.34375,61,27,2],[4.65625,0.333333,64,27,4],[5,0.333333,
56,30,1],[5.33333,0.333333,61,29,2],[5.66667,0.333333,64,27,4],[6,0.333333,56,27,1],[6.33333,0.333333,61,25,2],[6.66667,0.333333,64,34,4],[7,0.333333,56,37,1],[7.33333,0.333333,61,31,2],[7.66667,0.333333,64,37,4]],[[8,1.98958,33,37,-5],[8,1.98958,45,39,-1],[8,0.333333,57,41,1],[8.33333,0.333333,61,25,2],[8.66667,0.333333,64,33,4],[9,0.333333,57,28,1],[9.33333,0.333333,61,33,2],[9.66667,0.333333,64,32,4],[10,1.98958,30,27,-5],[10,1.98958,42,29,-1],[10,0.645833,57,36,1],[10.3333,0.333333,62,37,2],[10.6667,
0.333333,66,42,4],[11,0.333333,57,33,1],[11.3333,0.333333,62,31,2],[11.6667,0.333333,66,34,4]],[[12,1.98958,32,37,-5],[12,1.98958,44,31,-1],[12,0.333333,56,44,1],[12.3333,0.333333,60,26,2],[12.6667,0.333333,66,36,5],[13,0.333333,56,44,1],[13.3333,0.333333,61,28,2],[13.6667,0.333333,64,33,4],[14,0.989583,32,39,-5],[14,0.989583,44,32,-1],[14,0.333333,56,37,1],[14.3333,0.333333,61,26,2],[14.6667,0.333333,63,46,3],[15,0.333333,54,39,1],[15.3333,0.333333,60,38,2],[15.6667,0.333333,63,25,4]],[[16,3.98958,
37,25,-5],[16,3.98958,44,33,-2],[16,3.98958,49,23,-1],[16,0.333333,52,36,1],[16.3333,0.333333,56,27,2],[16.6667,0.333333,61,35,4],[17,0.333333,56,36,1],[17.3333,0.333333,61,22,2],[17.6667,0.333333,64,21,4],[18,0.333333,56,42,1],[18.3333,0.333333,61,27,2],[18.6667,0.333333,64,39,4],[19,0.333333,56,46,1],[19,0.75,68,55,5],[19.3333,0.333333,61,28,2],[19.6667,0.333333,64,26,4],[19.75,0.25,68,48,5]],[[20,3.98958,36,40,-5],[20,3.98958,44,32,-2],[20,3.98958,48,28,-1],[20,0.333333,56,43,1],[20,2.98958,68,
55,5],[20.3333,0.333333,63,31,3],[20.6667,0.333333,66,33,4],[21,0.333333,56,32,1],[21.3333,0.333333,63,26,3],[21.6667,0.333333,66,27,4],[22,0.333333,56,27,1],[22.3333,0.333333,63,31,3],[22.6667,0.333333,66,33,4],[23,0.333333,56,32,1],[23,0.75,68,49,5],[23.3333,0.333333,63,32,3],[23.6667,0.333333,66,38,4],[23.75,0.25,68,52,5]],[[24,1.98958,37,37,-5],[24,1.98958,49,34,-1],[24,0.333333,56,54,1],[24,1.98958,68,61,5],[24.3333,0.333333,61,29,2],[24.6667,0.333333,64,30,4],[25,0.333333,56,23,1],[25.3333,
0.333333,61,23,2],[25.6667,0.333333,64,32,4],[26,1.98958,30,33,-5],[26,1.98958,42,28,-1],[26,0.34375,57,38,1],[26,1.98958,69,54,5],[26.3333,0.333333,61,26,2],[26.6667,0.333333,66,32,4],[27,0.333333,57,26,1],[27.3333,0.333333,61,27,2],[27.6667,0.333333,66,33,4]],[[28,1.98958,35,37,-5],[28,1.98958,47,24,-1],[28,0.333333,56,25,1],[28,1.98958,68,51,5],[28.3333,0.333333,59,51,2],[28.6667,0.333333,64,40,4],[29,0.333333,56,25,1],[29.3333,0.333333,59,24,2],[29.6667,0.333333,64,34,4],[29.9896,0.427083,66,
53,5],[30,1.98958,35,25,-5],[30,1.98958,47,24,-1],[30,0.333333,57,38,1],[30.3333,0.333333,59,29,2],[30.6667,0.333333,63,18,4],[30.9167,0.0729167,57,40,1],[31,0.989583,71,48,5],[31.3333,0.333333,59,34,1],[31.6667,0.333333,63,40,2]],[[32,3.98958,40,36,-5],[32,3.98958,52,21,-1],[32,0.333333,56,25,1],[32.3333,0.333333,59,35,2],[32.6667,0.322917,64,25,4],[33,0.333333,56,22,1],[33.3333,0.333333,59,24,2],[33.6667,0.333333,64,30,4],[34,0.333333,56,25,1],[34.3333,0.333333,59,24,2],[34.6667,0.333333,64,36,
4],[35,0.333333,56,27,1],[35.3333,0.333333,59,26,2],[35.6667,0.333333,64,28,4]],[[36,3.98958,40,36,-5],[36,3.98958,52,33,-1],[36,0.333333,55,36,1],[36.3333,0.333333,59,35,2],[36.6667,0.333333,64,30,4],[37,0.333333,55,34,1],[37.3333,0.333333,59,22,2],[37.6667,0.333333,64,27,4],[38,0.333333,55,29,1],[38.3333,0.333333,59,24,2],[38.6667,0.333333,64,25,4],[39,0.333333,55,41,1],[39,0.75,67,58,5],[39.3333,0.333333,59,33,2],[39.6667,0.333333,64,41,4],[39.75,0.25,67,37,5]],[[40,3.98958,38,25,-5],[40,3.98958,
50,19,-1],[40,0.333333,55,26,1],[40,2.98958,67,48,5],[40.3333,0.333333,59,36,2],[40.6667,0.333333,65,41,4],[41,0.333333,55,25,1],[41.3333,0.333333,59,25,2],[41.6667,0.333333,65,30,4],[42,0.333333,55,26,1],[42.3333,0.333333,59,24,2],[42.6667,0.333333,65,34,4],[43,0.333333,55,34,1],[43,0.75,67,55,5],[43.3333,0.333333,59,35,2],[43.6667,0.333333,65,42,4],[43.75,0.25,67,56,5]],[[44,0.989583,36,32,-5],[44,0.989583,48,40,-1],[44,0.333333,55,40,1],[44,2.98958,67,53,5],[44.3333,0.333333,60,37,2],[44.6667,
0.333333,64,36,4],[45,0.989583,35,46,-5],[45,0.989583,47,40,-1],[45,0.333333,55,40,1],[45.3333,0.333333,59,36,2],[45.6667,0.333333,64,29,4],[46,1.98958,34,37,-5],[46,1.98958,46,38,-1],[46,0.333333,55,52,1],[46.3333,0.333333,61,38,2],[46.6667,0.333333,64,36,4],[47,0.333333,54,47,1],[47,0.989583,66,60,5],[47.3333,0.333333,61,43,2],[47.6667,0.333333,64,36,4]],[[48,1.98958,35,34,-5],[48,1.98958,47,40,-1],[48,0.333333,54,32,1],[48,1.98958,66,43,5],[48.3333,0.333333,59,27,2],[48.6667,0.333333,62,25,3],
[49,0.333333,54,30,1],[49.3333,0.333333,59,37,2],[49.6667,0.333333,62,33,3],[50,0.989583,40,43,-3],[50,0.333333,55,48,1],[50,0.989583,67,58,5],[50.3333,0.333333,59,42,2],[50.6667,0.333333,61,47,3],[51,0.333333,43,44,-1],[51,0.989583,52,47,1],[51,0.989583,64,54,5],[51.3333,0.333333,59,43,3],[51.6667,0.333333,61,54,4]],[[52,1.98958,42,34,-1],[52,0.333333,54,39,1],[52,1.98958,66,54,5],[52.3333,0.333333,59,31,2],[52.6667,0.333333,62,37,3],[53,0.989583,54,30,1],[53.3333,0.333333,59,27,2],[53.6667,0.333333,
62,37,3],[54,1.98958,30,34,-5],[54,1.98958,42,34,-1],[54,0.333333,54,31,1],[54,2.01042,66,48,5],[54.3333,0.333333,58,30,2],[54.6667,0.333333,61,37,3],[55,0.333333,54,27,1],[55.3333,0.333333,58,32,2],[55.6667,0.34375,61,30,3]],[[56,4.98958,35,42,-5],[56,4.98958,47,40,-1],[56,0.333333,59,30,1],[56.3333,0.333333,62,24,2],[56.6667,0.333333,66,31,4],[57,0.333333,59,48,1],[57.3333,0.333333,62,39,2],[57.6667,0.333333,66,40,4],[58,0.333333,59,46,1],[58.3333,0.333333,63,49,2],[58.6667,0.333333,66,49,4],[59,
0.333333,59,56,1],[59,0.989583,71,66,5],[59.3333,0.333333,63,34,2],[59.6667,0.333333,66,40,3]],[[60,0.333333,59,82,1],[60.3333,0.333333,64,52,2],[60.6667,0.333333,67,33,3],[61,0.989583,40,52,-5],[61,0.989583,52,53,-1],[61,0.78125,59,42,1],[61.3229,0.333333,64,40,2],[61.6667,0.333333,67,24,3],[62,0.989583,43,77,-5],[62,0.989583,55,81,-1],[62,0.333333,59,57,1],[62.3333,0.333333,64,41,2],[62.6667,0.333333,67,55,3],[63,0.989583,40,34,-5],[63,0.989583,52,51,-1],[63,0.333333,59,47,1],[63,0.989583,70,54,
5],[63.3333,0.333333,64,31,2],[63.6667,0.333333,67,34,3]],[[64,4.33333,35,33,-5],[64,4.33333,47,29,-1],[64,0.333333,59,24,1],[64,2.98958,71,44,5],[64.3333,0.333333,63,32,2],[64.6667,0.333333,66,30,3],[65,0.333333,59,30,1],[65.3333,0.333333,63,25,2],[65.6667,0.333333,66,30,3],[66,0.333333,59,19,1],[66.3333,0.333333,63,34,2],[66.6667,0.333333,66,36,3],[67,0.333333,59,44,1],[67,0.989583,71,62,5],[67.3333,0.395833,63,34,2],[67.6667,0.1875,66,33,3]],[[68,0.333333,59,34,1],[68.3333,0.333333,64,26,2],[68.6667,
0.333333,67,28,3],[69,0.989583,40,48,-5],[69,0.989583,52,46,-1],[69,0.333333,59,37,1],[69.3333,0.333333,64,31,2],[69.6667,0.333333,67,36,3],[70,0.989583,43,68,-5],[70,0.989583,55,74,-1],[70,0.333333,59,62,1],[70.3333,0.333333,64,36,2],[70.6667,0.333333,67,39,3],[71,0.989583,40,34,-5],[71,0.989583,52,47,-1],[71,0.333333,59,47,1],[71,0.989583,70,58,5],[71.3333,0.333333,64,25,2],[71.6667,0.333333,67,22,3]],[[72,1.98958,35,53,-5],[72,1.98958,47,31,-1],[72,0.333333,59,33,1],[72,1.98958,71,47,5],[72.3333,
0.333333,63,27,2],[72.6667,0.333333,66,27,3],[73,0.333333,59,28,1],[73.3333,0.333333,63,31,2],[73.6667,0.333333,66,34,3],[74,1.98958,32,32,-5],[74,1.98958,44,36,-1],[74,0.333333,59,28,1],[74,1.98958,71,41,5],[74.3333,0.333333,62,22,2],[74.6667,0.333333,65,33,3],[75,0.333333,59,29,1],[75.3333,0.333333,62,31,2],[75.6667,0.333333,65,32,3]],[[76,1.98958,29,39,-5],[76,1.98958,41,34,-1],[76,0.333333,59,31,1],[76,1.98958,71,45,5],[76.3333,0.333333,61,29,2],[76.6667,0.333333,68,32,4],[77,0.333333,59,25,1],
[77.3333,0.333333,61,29,2],[77.6667,0.333333,68,25,4],[78,1.98958,30,28,-5],[78,1.98958,42,38,-1],[78,0.333333,57,26,1],[78,1.98958,69,60,5],[78.3333,0.333333,61,25,2],[78.6667,0.333333,66,31,4],[79,0.333333,57,36,1],[79.3333,0.333333,61,23,2],[79.6667,0.333333,66,38,4]],[[80,1.98958,35,38,-5],[80,1.98958,47,51,-1],[80,0.333333,55,48,1],[80,1.98958,67,67,5],[80.3333,0.333333,59,31,2],[80.6667,0.333333,62,42,3],[81,0.333333,55,48,1],[81.3333,0.333333,59,36,2],[81.6667,0.333333,62,58,3],[82,1.98958,
36,36,-5],[82,1.98958,48,49,-1],[82,0.333333,54,37,1],[82,1.98958,66,62,5],[82.3333,0.333333,57,34,2],[82.6667,0.333333,63,55,4],[83,0.333333,54,26,1],[83.3333,0.333333,57,24,2],[83.6667,0.333333,63,37,4]],[[84,1.98958,37,29,-1],[84,0.333333,49,28,1],[84,1.98958,61,32,5],[84.3333,0.333333,54,18,2],[84.6667,0.333333,57,36,3],[85,0.333333,49,34,1],[85.3333,0.333333,54,29,2],[85.6667,0.333333,57,38,3],[86,0.989583,37,37,-1],[86,0.333333,49,25,1],[86,0.989583,61,46,5],[86.3333,0.333333,54,25,2],[86.6667,
0.333333,56,30,3],[87,0.333333,37,29,-1],[87,0.333333,49,23,1],[87,0.989583,61,34,5],[87.3333,0.333333,53,31,2],[87.6667,0.333333,56,40,3]],[[88,3.98958,30,39,-5],[88,3.98958,37,23,-2],[88,3.98958,42,26,-1],[88,0.333333,54,36,1],[88.3333,0.333333,57,25,2],[88.6667,0.333333,61,40,3],[89,0.333333,57,49,1],[89.3333,0.333333,61,27,2],[89.6667,0.333333,66,39,3],[90,0.333333,61,46,1],[90.3333,0.333333,66,28,2],[90.6667,0.333333,69,39,3],[91,0.333333,61,64,1],[91,0.75,73,71,5],[91.3333,0.333333,66,32,2],
[91.6667,0.333333,69,29,3],[91.75,0.25,73,54,5]],[[92,3.98958,41,29,-5],[92,3.98958,49,27,-2],[92,3.98958,53,34,-1],[92,0.34375,61,34,1],[92,1.98958,73,61,5],[92.3333,0.333333,68,35,3],[92.6667,0.333333,71,37,4],[93,0.333333,61,35,1],[93.3333,0.333333,68,26,3],[93.6667,0.333333,71,31,4],[94,0.333333,61,34,1],[94.3333,0.333333,68,32,3],[94.6667,0.333333,71,24,4],[95,0.333333,61,32,1],[95,0.75,73,57,5],[95.3333,0.333333,68,31,3],[95.6667,0.333333,71,34,4],[95.75,0.25,73,46,5]],[[96,1.98958,42,31,-5],
[96,1.98958,54,22,-1],[96,0.333333,61,31,1],[96,1.98958,73,61,5],[96.3333,0.333333,66,34,2],[96.6667,0.333333,69,40,3],[97,0.989583,61,46,1],[97.3333,0.333333,66,32,2],[97.6667,0.333333,69,34,3],[98,0.989583,39,56,-5],[98,0.989583,51,51,-1],[98,0.333333,60,63,1],[98,0.989583,72,68,5],[98.3333,0.333333,66,33,2],[98.6667,0.333333,69,40,3],[99,0.989583,37,50,-5],[99,0.989583,49,62,-1],[99,0.333333,61,69,1],[99,0.989583,73,81,5],[99.3333,0.333333,66,37,2],[99.6667,0.333333,69,37,3]],[[100,2.98958,36,
51,-5],[100,2.98958,44,45,-2],[100,2.98958,48,51,-1],[100,0.333333,63,64,1],[100,2.98958,75,78,5],[100.333,0.333333,66,35,2],[100.667,0.333333,68,36,3],[101,0.333333,63,52,1],[101.333,0.333333,66,25,2],[101.667,0.333333,68,46,3],[102,0.333333,63,43,1],[102.333,0.333333,66,33,2],[102.667,0.333333,68,34,3],[103,0.989583,36,57,-5],[103,0.989583,44,37,-2],[103,0.989583,48,56,-1],[103,0.333333,63,69,1],[103,0.989583,75,71,5],[103.333,0.333333,66,34,2],[103.667,0.333333,68,36,3]],[[104,1.98958,37,28,-5],
[104,1.98958,44,46,-2],[104,1.98958,49,43,-1],[104,0.333333,64,56,1],[104,1.98958,76,71,5],[104.333,0.333333,68,36,2],[104.667,0.333333,73,37,4],[105,0.333333,64,30,1],[105.333,0.333333,68,25,2],[105.667,0.333333,73,32,4],[106,0.989583,30,33,-5],[106,0.989583,42,27,-1],[106,0.333333,63,45,1],[106,0.989583,75,56,5],[106.333,0.333333,66,44,2],[106.667,0.333333,69,46,3],[107,0.989583,31,34,-5],[107,0.989583,43,46,-1],[107,0.333333,61,38,1],[107,0.989583,73,71,5],[107.333,0.333333,64,56,2],[107.667,0.333333,
70,51,4]],[[108,3.98958,32,38,-5],[108,3.98958,44,27,-1],[108,0.989583,72,41,5],[108.333,0.333333,60,24,1],[108.667,0.333333,63,33,2],[109,0.989583,68,58,4],[109.333,0.333333,60,33,1],[109.667,0.333333,63,47,2],[110,0.989583,69,66,4],[110.323,0.333333,60,29,1],[110.667,0.333333,63,31,2],[111,0.989583,66,43,3],[111.323,0.333333,60,29,1],[111.667,0.333333,63,37,2]],[[112,3.98958,32,39,-5],[112,3.98958,44,32,-1],[112.333,0.333333,48,42,1],[112.667,0.333333,51,38,2],[113,0.989583,56,65,4],[113.333,0.333333,
48,46,1],[113.667,0.333333,51,56,2],[114,0.989583,57,74,5],[114.323,0.333333,48,58,1],[114.667,0.333333,51,43,2],[115,0.989583,54,50,3],[115.333,0.333333,48,48,1],[115.667,0.333333,51,35,2]],[[116,3.98958,32,39,-5],[116,3.98958,44,37,-1],[116,0.333333,52,54,1],[116.333,0.333333,64,40,5],[116.656,0.333333,68,27,2],[117,0.989583,73,64,4],[117.333,0.333333,64,31,1],[117.667,0.333333,68,27,2],[118,0.989583,76,70,5],[118.333,0.333333,64,25,1],[118.667,0.333333,68,29,2],[119,0.989583,73,51,4],[119.323,
0.333333,64,28,1],[119.667,0.333333,68,30,2]],[[120,3.98958,32,42,-5],[120,3.98958,44,38,-1],[120.333,0.333333,52,34,1],[120.667,0.333333,56,30,2],[121,0.989583,61,59,4],[121.333,0.333333,52,44,1],[121.667,0.333333,56,58,2],[122,0.989583,64,68,5],[122.333,0.333333,52,37,1],[122.667,0.333333,56,39,2],[123,0.989583,61,47,4],[123.333,0.333333,52,29,1],[123.667,0.333333,56,32,2]],[[124,3.98958,32,29,-5],[124,3.98958,44,25,-1],[124,0.333333,51,45,1],[124.333,0.333333,57,31,3],[124.667,0.333333,54,49,2],
[125,0.333333,60,51,5],[125.333,0.333333,57,44,1],[125.667,0.333333,63,58,3],[126,0.333333,60,57,2],[126.333,0.333333,66,50,5],[126.667,0.333333,63,48,1],[127,0.333333,69,56,3],[127.333,0.333333,66,50,2],[127.667,0.333333,72,57,5]],[[128,3.98958,32,36,-5],[128,3.98958,44,33,-1],[128,0.333333,52,48,1],[128.333,0.333333,61,34,4],[128.667,0.333333,56,40,2],[129,0.333333,64,56,5],[129.333,0.333333,61,39,1],[129.667,0.333333,68,62,3],[130,0.333333,64,46,2],[130.333,0.333333,73,63,5],[130.667,0.333333,
68,46,1],[131,0.333333,76,57,4],[131.333,0.333333,73,26,2],[131.667,0.333333,68,33,1]],[[132,3.98958,32,40,-5],[132,3.98958,44,27,-1],[132,0.333333,61,45,1],[132.333,0.333333,67,52,3],[132.667,0.333333,64,53,2],[133,0.333333,70,56,5],[133.333,0.333333,67,35,1],[133.667,0.333333,73,56,3],[134,0.333333,70,44,2],[134.333,0.333333,76,66,5],[134.667,0.333333,73,42,1],[135,0.333333,79,63,3],[135.333,0.333333,76,40,2],[135.667,0.333333,82,33,5]],[[136,11.9896,32,32,-5],[136,11.9896,44,34,-1],[136,0.333333,
66,29,1],[136.333,0.333333,72,41,3],[136.667,0.333333,69,45,2],[137,0.333333,75,54,5],[137.333,0.333333,72,33,1],[137.667,0.333333,78,48,3],[138,0.333333,75,48,2],[138.333,0.333333,81,43,5],[138.667,0.333333,78,45,1],[139,0.333333,84,68,3],[139.333,0.333333,81,40,2],[139.667,0.333333,87,48,5]],[[140,0.333333,84,57,5],[140.333,0.333333,78,32,2],[140.667,0.333333,81,28,3],[141,0.333333,75,47,1],[141.333,0.333333,78,39,5],[141.667,0.333333,72,36,2],[142,0.333333,75,55,3],[142.333,0.333333,69,34,1],[142.667,
0.333333,72,33,5],[143,0.333333,66,44,2],[143.333,0.333333,69,26,3],[143.667,0.333333,63,31,1]],[[144,0.333333,66,49,5],[144.333,0.333333,60,39,2],[144.667,0.333333,63,25,3],[145,0.333333,57,48,1],[145.333,0.333333,60,33,5],[145.667,0.333333,54,43,2],[146,0.333333,57,30,3],[146.333,0.666667,51,69,1],[146.667,0.333333,54,46,2],[147,0.666667,49,61,1],[147.333,0.333333,54,40,2],[147.667,0.333333,57,35,3]],[[148,3.98958,32,35,-5],[148,3.98958,44,32,-1],[148,1.98958,48,44,1],[148.333,0.333333,54,35,2],
[148.667,0.333333,56,44,3],[149,0.333333,57,62,4],[149.333,0.333333,56,38,3],[149.667,0.333333,54,48,2],[150,0.989583,51,71,1],[150.333,0.333333,54,38,2],[150.667,0.333333,57,40,4],[151,0.989583,49,68,1],[151.333,0.333333,54,36,2],[151.667,0.333333,57,32,4]],[[152,3.98958,32,37,-5],[152,3.98958,44,32,-1],[152,1.98958,48,52,1],[152.333,0.333333,54,34,2],[152.667,0.333333,56,63,3],[153,0.333333,57,82,4],[153.333,0.333333,56,56,3],[153.667,0.333333,54,53,2],[154,0.989583,50,72,1],[154.333,0.333333,54,
45,2],[154.667,0.333333,57,36,4],[155,0.989583,49,64,1],[155.333,0.333333,54,39,2],[155.667,0.333333,57,41,4]],[[156,1.98958,32,39,-5],[156,1.98958,44,31,-1],[156,1.98958,48,57,1],[156.333,0.333333,54,25,2],[156.667,0.333333,56,53,3],[157,0.333333,57,54,4],[157.333,0.333333,56,46,3],[157.667,0.333333,54,50,2],[158,1.98958,33,38,-5],[158,1.98958,45,38,-1],[158,0.989583,49,37,1],[158.333,0.333333,52,24,2],[158.667,0.333333,61,44,5],[159,0.333333,49,32,1],[159.333,0.333333,52,34,2],[159.667,0.333333,
61,37,5]],[[160,1.98958,30,25,-5],[160,1.98958,42,27,-1],[160,0.333333,51,40,1],[160.333,0.333333,57,36,3],[160.667,0.333333,61,43,5],[161,0.333333,51,43,1],[161.323,0.333333,57,28,3],[161.667,0.333333,61,25,5],[162,1.98958,32,33,-5],[162,1.98958,44,33,-1],[162,0.333333,51,45,1],[162.333,0.333333,56,45,3],[162.667,0.333333,60,34,5],[163,0.333333,51,34,1],[163.333,0.333333,54,38,2],[163.667,0.333333,60,33,5]],[[164,3.98958,37,35,-5],[164,3.98958,44,37,-2],[164,3.98958,49,34,-1],[164,0.333333,52,45,
1],[164.333,0.333333,56,27,2],[164.667,0.333333,61,25,4],[165,0.333333,56,45,1],[165.333,0.333333,61,33,2],[165.667,0.333333,64,26,4],[166,0.333333,56,30,1],[166.333,0.333333,61,32,2],[166.667,0.333333,64,27,4],[167,0.333333,56,25,1],[167.333,0.333333,61,29,2],[167.667,0.333333,64,27,4],[167.74,0.0104167,68,60,5]],[[168,3.98958,36,26,-5],[168,3.98958,44,20,-2],[168,3.98958,48,24,-1],[168,0.333333,56,46,1],[168,2.98958,68,58,5],[168.333,0.333333,63,35,3],[168.667,0.333333,66,35,4],[169,0.333333,56,
27,1],[169.333,0.333333,63,23,3],[169.667,0.333333,66,30,4],[170,0.333333,56,25,1],[170.333,0.333333,63,17,3],[170.667,0.333333,66,40,4],[171,0.333333,56,40,1],[171,0.75,68,53,5],[171.333,0.333333,63,32,3],[171.667,0.333333,66,38,4],[171.75,0.25,68,49,5]],[[172,1.98958,37,20,-5],[172,1.98958,49,25,-1],[172,0.333333,56,27,1],[172,1.98958,68,54,5],[172.333,0.333333,61,30,2],[172.667,0.333333,64,37,4],[173,0.333333,56,46,1],[173.333,0.333333,61,26,2],[173.667,0.333333,64,46,4],[174,1.98958,30,35,-5],
[174,1.98958,42,30,-1],[174,0.333333,57,39,1],[174,1.98958,69,59,5],[174.333,0.333333,61,37,2],[174.667,0.333333,66,35,4],[175,0.333333,57,31,1],[175.333,0.333333,61,29,2],[175.667,0.333333,66,33,4]],[[176,1.98958,35,37,-5],[176,1.98958,47,35,-1],[176,0.333333,56,31,1],[176,1.98958,68,54,5],[176.333,0.333333,59,42,2],[176.667,0.333333,64,44,4],[177,0.333333,56,34,1],[177.333,0.333333,59,38,2],[177.667,0.333333,64,38,4],[178,1.98958,35,35,-5],[178,1.98958,47,22,-1],[178,0.333333,57,48,1],[178,0.989583,
66,61,5],[178.333,0.333333,59,32,2],[178.667,0.333333,63,30,4],[178.927,0.40625,57,35,1],[179,0.989583,71,56,5],[179.333,0.333333,59,26,1],[179.667,0.333333,63,50,2]],[[180,3.98958,40,41,-5],[180,3.98958,52,32,-1],[180,0.333333,56,20,0],[180,0.666667,64,40,0],[180.333,0.333333,59,52,0],[180.667,0.333333,64,42,0],[181,0.333333,59,52,0],[181.333,0.333333,64,35,0],[181.667,0.333333,68,35,0],[182,0.333333,59,52,0],[182.333,0.333333,64,32,0],[182.667,0.333333,68,32,0],[183,0.333333,59,53,0],[183,0.75,
71,63,0],[183.333,0.333333,64,34,0],[183.667,0.333333,68,39,0],[183.75,0.25,71,36,0]],[[184,3.98958,39,33,0],[184,3.98958,51,40,0],[184,0.333333,59,40,0],[184,2.98958,71,57,0],[184.333,0.333333,66,27,0],[184.667,0.333333,69,21,0],[185,0.333333,59,42,0],[185.333,0.333333,66,22,0],[185.667,0.333333,69,26,0],[186,0.333333,59,33,0],[186.333,0.333333,66,25,0],[186.667,0.333333,69,32,0],[187,0.333333,59,44,0],[187,0.75,71,68,0],[187.333,0.333333,66,28,0],[187.667,0.333333,69,33,0],[187.75,0.25,71,49,0]],
[[188,1.98958,40,42,0],[188,1.98958,52,36,0],[188,0.333333,59,39,0],[188,1.98958,71,56,0],[188.323,0.333333,64,34,0],[188.667,0.333333,68,36,0],[189,0.333333,59,47,0],[189.323,0.333333,64,40,0],[189.667,0.333333,68,27,0],[190,0.989583,39,58,0],[190,0.989583,51,57,0],[190,0.333333,60,70,0],[190,0.989583,72,75,0],[190.333,0.333333,66,33,0],[190.667,0.333333,68,51,0],[191,0.989583,37,57,0],[191,0.989583,49,65,0],[191,0.34375,61,49,0],[191,0.989583,73,78,0],[191.333,0.333333,64,52,0],[191.667,0.333333,
68,55,0]],[[192,1.98958,36,51,0],[192,1.98958,44,40,0],[192,1.98958,48,60,0],[192,0.333333,63,65,0],[192,1.98958,75,78,0],[192.333,0.333333,66,42,0],[192.667,0.333333,68,42,0],[193,0.333333,63,49,0],[193.333,0.333333,66,39,0],[193.667,0.333333,68,46,0],[194,0.989583,37,38,0],[194,0.989583,44,43,0],[194,0.989583,49,36,0],[194,0.333333,64,59,0],[194,1.98958,76,80,0],[194.333,0.333333,68,34,0],[194.667,0.333333,73,36,0],[195,0.333333,64,36,0],[195.333,0.333333,68,27,0],[195.667,0.333333,73,31,0]],[[196,
1.98958,30,34,0],[196,1.98958,42,17,0],[196,0.333333,62,37,0],[196,1.98958,74,54,0],[196.333,0.333333,66,18,0],[196.667,0.333333,69,19,0],[197,0.333333,62,29,0],[197.333,0.333333,66,36,0],[197.667,0.333333,69,25,0],[198,1.98958,32,26,0],[198,1.98958,44,30,0],[198,0.333333,60,32,0],[198,1.98958,72,49,0],[198.333,0.333333,66,25,0],[198.667,0.333333,68,30,0],[199,0.333333,60,33,0],[199.333,0.333333,66,26,0],[199.667,0.333333,68,34,0]],[[200,4.98958,37,29,0],[200,4.98958,49,25,0],[200,0.333333,61,33,
0],[200,2.98958,73,58,0],[200.333,0.333333,64,28,0],[200.667,0.333333,68,29,0],[201,0.333333,61,28,0],[201.333,0.333333,64,32,0],[201.667,0.333333,68,31,0],[202,0.333333,61,31,0],[202.333,0.333333,65,25,0],[202.667,0.333333,68,34,0],[203,0.333333,61,45,0],[203,0.989583,73,71,0],[203.333,0.333333,65,28,0],[203.667,0.333333,68,43,0],[203.917,0.40625,61,38,0]],[[204,2.98958,74,64,0],[204.333,0.333333,66,39,0],[204.667,0.333333,69,31,0],[205,0.989583,42,49,0],[205,0.989583,54,48,0],[205,0.333333,61,49,
0],[205.333,0.333333,66,42,0],[205.667,0.333333,69,25,0],[206,0.989583,45,79,0],[206,0.989583,57,70,0],[206,0.333333,61,57,0],[206.333,0.333333,66,28,0],[206.667,0.333333,69,41,0],[207,0.989583,42,31,0],[207,0.989583,54,31,0],[207,0.333333,61,44,0],[207,0.989583,72,60,0],[207.333,0.333333,66,29,0],[207.667,0.333333,69,35,0]],[[208,4.98958,37,27,0],[208,4.98958,49,34,0],[208,0.333333,61,33,0],[208,2.98958,73,46,0],[208.333,0.333333,65,27,0],[208.667,0.333333,68,34,0],[209,0.333333,61,30,0],[209.333,
0.333333,65,27,0],[209.667,0.333333,68,35,0],[210,0.333333,61,30,0],[210.333,0.333333,65,26,0],[210.667,0.333333,68,37,0],[211,0.333333,61,49,0],[211,0.989583,73,65,0],[211.333,0.333333,65,34,0],[211.667,0.333333,68,37,0],[211.917,0.40625,61,44,0]],[[212,2.98958,74,88,0],[212.333,0.333333,66,38,0],[212.667,0.333333,69,26,0],[213,0.989583,42,50,0],[213,0.989583,54,44,0],[213,0.333333,61,45,0],[213.333,0.333333,66,23,0],[213.667,0.333333,69,36,0],[214,0.989583,45,72,0],[214,0.989583,57,60,0],[214,0.333333,
61,59,0],[214.333,0.333333,66,35,0],[214.667,0.333333,69,46,0],[215,0.989583,42,39,0],[215,0.989583,54,30,0],[215,0.333333,61,36,0],[215,0.989583,72,58,0],[215.333,0.333333,66,31,0],[215.667,0.333333,69,33,0]],[[216,1.98958,37,35,0],[216,1.98958,49,25,0],[216,0.333333,61,31,0],[216,1.98958,73,46,0],[216.333,0.333333,65,31,0],[216.667,0.333333,68,27,0],[217,0.333333,61,34,0],[217.333,0.333333,65,26,0],[217.667,0.333333,68,37,0],[218,1.98958,30,28,0],[218,1.98958,42,26,0],[218,0.333333,61,18,0],[218,
1.98958,73,57,0],[218.333,0.333333,66,28,0],[218.667,0.333333,69,29,0],[219,0.333333,61,25,0],[219.333,0.333333,66,26,0],[219.667,0.333333,69,27,0]],[[220,2.98958,39,38,0],[220,2.98958,51,29,0],[220,0.333333,59,32,0],[220,2.98958,71,60,0],[220.333,0.333333,66,25,0],[220.667,0.333333,69,24,0],[221,0.333333,59,45,0],[221.333,0.333333,66,22,0],[221.667,0.333333,69,33,0],[222,0.333333,59,32,0],[222.333,0.333333,66,23,0],[222.667,0.333333,69,39,0],[223,0.989583,40,32,0],[223,0.989583,52,24,0],[223,0.333333,
59,37,0],[223,0.989583,71,55,0],[223.333,0.333333,64,42,0],[223.667,0.333333,68,44,0]],[[224,0.989583,37,37,0],[224,0.989583,49,39,0],[224,0.333333,57,51,0],[224,0.989583,69,60,0],[224.333,0.333333,64,33,0],[224.667,0.333333,68,33,0],[225,0.989583,39,39,0],[225,0.989583,51,38,0],[225,0.333333,57,40,0],[225,0.989583,69,57,0],[225.333,0.333333,63,44,0],[225.667,0.333333,66,40,0],[226,0.989583,36,39,0],[226,0.989583,48,35,0],[226,0.333333,56,38,0],[226,0.989583,68,68,0],[226.333,0.333333,63,34,0],[226.667,
0.333333,66,37,0],[227,0.989583,37,36,0],[227,0.989583,49,33,0],[227,0.333333,56,38,0],[227,0.989583,68,57,0],[227.333,0.333333,61,38,0],[227.667,0.333333,64,39,0]],[[228,1.98958,33,29,0],[228,1.98958,45,34,0],[228,0.333333,54,48,0],[228,1.98958,66,56,0],[228.333,0.333333,61,33,0],[228.667,0.333333,63,34,0],[229,0.333333,54,46,0],[229.333,0.333333,61,37,0],[229.667,0.333333,63,36,0],[230,0.989583,32,44,0],[230,0.989583,44,40,0],[230,0.333333,56,54,0],[230,0.989583,68,67,0],[230.333,0.333333,61,34,
0],[230.667,0.333333,63,33,0],[231,0.989583,30,45,0],[231,0.989583,42,44,0],[231,0.333333,57,56,0],[231,0.989583,69,70,0],[231.333,0.333333,61,35,0],[231.667,0.333333,63,39,0]],[[232,1.98958,32,43,0],[232,1.98958,44,31,0],[232,0.333333,56,45,0],[232,1.98958,68,61,0],[232.333,0.333333,61,31,0],[232.667,0.333333,64,31,0],[233,0.333333,56,32,0],[233.333,0.333333,61,26,0],[233.667,0.333333,64,36,0],[234,1.98958,32,35,0],[234,1.98958,44,30,0],[234,0.333333,54,13,0],[234,0.989583,68,44,0],[234.333,0.333333,
60,22,0],[234.667,0.333333,63,33,0],[235,0.333333,54,42,0],[235.333,0.333333,60,27,0],[235.667,0.333333,63,43,0]],[[236,3.98958,37,33,0],[236,2.98958,44,27,0],[236,0.333333,52,39,0],[236.333,0.333333,56,34,0],[236.667,0.322917,61,42,0],[236.667,0.333333,61,42,0],[237,0.333333,56,44,0],[237.333,0.333333,61,28,0],[237.667,0.333333,64,38,0],[238,0.333333,56,36,0],[238.333,0.333333,61,32,0],[238.667,0.333333,64,38,0],[239,0.75,44,61,0],[239,0.333333,56,43,0],[239.333,0.333333,61,37,0],[239.667,0.333333,
64,36,0],[239.75,0.25,44,61,0]],[[240,3.98958,36,52,0],[240,2.98958,44,46,0],[240,0.333333,56,51,0],[240.333,0.333333,63,38,0],[240.667,0.333333,66,36,0],[241,0.333333,56,46,0],[241.333,0.333333,63,28,0],[241.667,0.333333,66,30,0],[242,0.333333,56,44,0],[242.333,0.333333,63,34,0],[242.667,0.333333,66,30,0],[243,0.75,44,64,0],[243,0.333333,56,56,0],[243.333,0.333333,63,34,0],[243.667,0.333333,66,39,0],[243.75,0.25,44,48,0]],[[244,3.98958,37,43,0],[244,2.98958,44,55,0],[244,0.333333,56,45,0],[244.333,
0.333333,64,51,0],[244.667,0.333333,61,33,0],[245,0.333333,68,65,0],[245.333,0.333333,64,42,0],[245.667,0.333333,73,61,0],[246,0.333333,68,53,0],[246.333,0.333333,76,74,0],[246.667,0.333333,73,55,0],[247,0.75,44,69,0],[247,0.333333,80,73,0],[247.333,0.333333,76,52,0],[247.667,0.333333,73,56,0],[247.75,0.25,44,62,0]],[[248,2.98958,32,60,0],[248,2.98958,44,60,0],[248,0.333333,72,66,0],[248.333,0.333333,75,52,0],[248.667,0.333333,69,46,0],[249,0.333333,72,64,0],[249.333,0.333333,66,40,0],[249.667,0.333333,
69,39,0],[250,0.333333,63,57,0],[250.333,0.333333,66,45,0],[250.667,0.333333,57,52,0],[251,0.75,44,49,0],[251,0.333333,60,67,0],[251.333,0.333333,56,36,0],[251.667,0.333333,54,56,0],[251.75,0.25,44,51,0]],[[252,2.98958,37,44,0],[252,2.98958,44,52,0],[252,0.333333,52,51,0],[252,0.333333,61,58,0],[252.333,0.333333,64,61,0],[252.667,0.333333,61,45,0],[253,0.333333,68,62,0],[253.333,0.333333,64,53,0],[253.667,0.333333,73,67,0],[254,0.333333,68,42,0],[254.333,0.333333,76,74,0],[254.667,0.333333,73,48,
0],[255,0.75,44,61,0],[255,0.333333,80,72,0],[255.333,0.333333,76,62,0],[255.667,0.333333,73,56,0],[255.75,0.25,44,64,0]],[[256,2.98958,32,54,0],[256,2.98958,44,61,0],[256,0.333333,72,64,0],[256.333,0.333333,75,46,0],[256.667,0.333333,69,44,0],[257,0.333333,72,55,0],[257.333,0.333333,66,50,0],[257.667,0.333333,69,49,0],[258,0.333333,63,62,0],[258.333,0.333333,66,49,0],[258.667,0.333333,57,62,0],[259,0.75,44,56,0],[259,0.333333,60,63,0],[259.333,0.333333,56,52,0],[259.667,0.333333,54,47,0],[259.75,
0.25,44,51,0]],[[260,7.98958,37,47,0],[260,1.98958,44,46,0],[260,0.333333,52,49,0],[260.333,0.333333,56,45,0],[260.667,0.322917,61,51,0],[260.667,0.333333,61,51,0],[261,0.333333,64,49,0],[261.333,0.333333,61,37,0],[261.667,0.333333,56,30,0],[262,1.98958,49,54,0],[262.333,0.333333,52,29,0],[262.667,0.333333,56,33,0],[263,0.333333,61,49,0],[263.333,0.333333,56,40,0],[263.667,0.333333,52,34,0]],[[264,0.989583,44,38,0],[264.333,0.333333,49,38,0],[264.667,0.333333,52,35,0],[265,0.333333,56,51,0],[265.333,
0.333333,52,37,0],[265.667,0.333333,49,36,0],[266,0.333333,44,33,0],[266.333,0.333333,49,36,0],[266.667,0.333333,44,40,0],[267,0.333333,40,44,0],[267.333,0.333333,44,39,0],[267.667,0.333333,40,41,0]],[[268,1.98958,37,43,0],[270,1.98958,37,33,0],[270,1.98958,44,33,0],[270,1.98958,49,27,0],[270,1.98958,52,34,0],[270,1.98958,56,51,0],[270,1.98958,61,49,0]],[[272,3.98958,37,22,0],[272,3.98958,44,29,0],[272,3.98958,49,23,0],[272,3.98958,52,18,0],[272,3.98958,56,38,0],[272,3.98958,61,33,0]]],tempo=10,timer,
DELAY=0,DURATION=1,NOTE=2,VELOCITY=3,FINGER=4,REPEAT=1,RETAIN_VISUAL=1,playIdx=1,pauseIdx=1,xmlHttpPlay=[],xmlHttpPause=[],noteOn=[];
$(document).ready(function(){MIDI.loadPlugin({soundfontUrl:"./soundfont/",instrument:"acoustic_grand_piano",callback:function(){console.log("MIDI.loadPlugin Done: "+((new Date).getTime()-startTime));MIDI.setVolume(0,127);$("#playBtn").attr("src","./images/playButton.png")}});startTime=(new Date).getTime();aab();$("body").css("-webkit-user-select","none");$("body").css("-moz-user-select","none");$("body").css("-ms-user-select","none");$("body").css("-o-user-select","none");$("body").css("user-select",
"none")});function abcabj(){oldTempo=tempo;tempo=FAST_FORWARD;$("#playBtn").attr("src","./images/pauseButton.png");$("#playBtn").attr("on"+startEvent,"abcabk()");$("#playaas").text("Pause");playMusic();xmlHttpPlay[playIdx]=new XMLHttpRequest;xmlHttpPlay[playIdx].open("GET","event.php?event=Play"+playIdx+"&start="+startabt+"&end="+endabt+"&brsr="+browser,!0);xmlHttpPlay[playIdx].send();playIdx++}
function abcabk(){$("#playBtn").attr("src","./images/playButton.png");$("#playBtn").attr("on"+startEvent,"abcabj()");$("#playaas").text("Play");abm(RETAIN_VISUAL);xmlHttpPause[pauseIdx]=new XMLHttpRequest;xmlHttpPause[pauseIdx].open("GET","event.php?event=Pause"+pauseIdx+"&start="+startabt+"&end="+endabt+"&brsr="+browser,!0);xmlHttpPause[pauseIdx].send();pauseIdx++}
function playMusic(){0==Math.floor(100*delay)%100&&metronomeEnabled&&(MIDI.noteOn(0,100,90,0),MIDI.noteOff(0,100,0));for(var a=currentabt-1;a<=currentabt;a++)for(var b=0;b<aar[a].length;b++){var c=aar[a][b][NOTE]+transposeValue,d=c-21,f="#00FF00",e=aar[a][b][DELAY],g=e+aar[a][b][DURATION];g>endabt*delayPerabt&&(g=endabt*delayPerabt-0.01);delay-0.01<=e&&e<delay?(tempo==FAST_FORWARD&&(tempo=oldTempo),e=aar[a][b][FINGER],0>e&&!leftHandEnabled||0<e&&!rightHandEnabled||(-1==
$.inArray(c,noteOn)&&noteOn.push(c),MIDI.noteOn(0,c,aar[a][b][VELOCITY],0),0>e&&(f="red",e*=-1),$("#key-"+d).css("background-color",f),$("#key-"+d).css("background-color",f),notesEnabled&&($("#keyNoteaas-"+d).css("display",""),$("#keyNoteaas-"+d).css("display","")),0!=e&&($("#keyaas-"+d).text(e),$("#keyaas-"+d).text(e)))):delay-0.01<g-0.01&&g-0.01<=delay?abn(c):delay-0.01<g&&g<=delay&&MIDI.noteOff(0,c,0)}timer=setTimeout(function(){delay+=0.01;delay>=endabs&&(abm(),delay=startabs);
setCurrentMarker();playMusic()},tempo)}var previousTime=0;function abl(a){for(var b=0;88>b;b++)if(note=b+21,keyColor=$("#key-"+b).css("background-color"),"rgb(0, 255, 0)"==keyColor&&"right"==a||"rgb(255, 0, 0)"==keyColor&&"left"==a)abn(note),MIDI.noteOff(0,note,0)}function abm(a){abmLoopStart=(new Date).getTime();for(var b=0;b<noteOn.length;b++)MIDI.noteOff(0,noteOn[b],0),a||abn(noteOn[b]);a||(noteOn=[]);clearTimeout(timer)}
function abn(a){key=a-21;color="white";a=key%12;if(1==a||4==a||6==a||9==a||11==a)color="black";$("#key-"+key).css("background-color",color);$("#key-"+key).css("background-color",color);$("#keyaas-"+key).text("");$("#keyaas-"+key).text("");$("#keyNoteaas-"+key).css("display","none");$("#keyNoteaas-"+key).css("display","none")}
function abo(a){currentabt=a;delay=(currentabt-1)*delayPerabt;currentabt<startabt&&abp(currentabt);currentabt>endabt&&abq(currentabt);abmStart=(new Date).getTime();abm();"./images/pauseButton.png"==$("#playBtn").attr("src")&&playMusic()}
function abp(a){startabt=Number(a);startabs=(startabt-1)*delayPerabt;startabs>delay&&(currentabt=startabt,delay=startabs,setCurrentMarker(),abm(),"./images/pauseButton.png"==$("#playBtn").attr("src")&&playMusic());startabt>endabt&&abq(startabt);abg(startabt);$("#startMarkerInfoaas").css("display","none")}
function abq(a){endabt=Number(a);endabs=endabt*delayPerabt;endabs<=delay&&(delay=endabs-delayPerabt,currentabt=endabt-1,setCurrentMarker(),abm(),"./images/pauseButton.png"==$("#playBtn").attr("src")&&playMusic());startabt>endabt&&abp(endabt);abh(endabt);$("#endMarkerInfoaas").css("display","none")}
function abr(a){$("#speedaas").text("Speed: "+a+"%");currentMetronomeaav=a;tempo=Math.floor(40*((101-0.75*a)/100))}function setTransposition(a){abm();transposeValue=a;"./images/pauseButton.png"==$("#playBtn").attr("src")&&playMusic();$("#transpositionaas").text("Transposition ("+transposeValue+")")}debugaap=0;
function debug(a){try{a=a.replace(/</g,"&lt;").replace(/>/g,"&gt;")}catch(b){}a='<div id="debug" style="position:absolute;z-index:6;top:'+debugaap+'px;left:10px;color:black;font-size:15px;background-color:green">'+a+"<br></div>";$("body").append(a);debugaap+=40}var browser,clickEvent,startEvent,moveEvent,startTime,topOffset=0;
function aab(){console.log("setDeviceSettings: "+((new Date).getTime()-startTime));getDeviceSettings();console.log("aaj: "+((new Date).getTime()-startTime));aaj();console.log("aac: "+((new Date).getTime()-startTime));aac();console.log("drawabtabe: "+((new Date).getTime()-startTime));drawabtabe();console.log("aae: "+((new Date).getTime()-startTime));aae();console.log("setMarkerEvents: "+((new Date).getTime()-startTime));setMarkerEvents();
console.log("aag: "+((new Date).getTime()-startTime));aag();console.log("aai: "+((new Date).getTime()-startTime));aai(0,88);$("#loading").css("display","none");console.log("reportBrowser: "+((new Date).getTime()-startTime));reportBrowser()}function getDeviceSettings(){screenaan=screen.width;userAgent=navigator.userAgent;(isiOS=null!=navigator.userAgent.match(/iP/i))&&(screenaan=981)}
function aaj(){startEvent="mousedown";moveEvent="mousemove";positionX="a.pageX";isiOS&&(startEvent="touchstart",moveEvent="touchmove",positionX="event.touches[0].pageX");$("img").on("dragstart",function(a){a.preventDefault()})}
function aac(){$("body").append('<div id="header" style="border-style:solid;border-width:0 0 1 0;;background-color:#919191;position:absolute;left:0%;top:0%;width:'+screenaan+'"></div>');$("#header").append('<img id="logo" src="./images/logo.png" style="position:absolute;left:3%;top:10%;width:8.4%;height:80%;"></img>');$("#header").append('<img id="aazPic" src="./images/beethoven.jpeg" style="position:absolute;right:0%;top:0%;width:7.8%;height:100%"></img>');$("#header").append('<div id="aaraas" style="position:absolute;left:0%;top:10%;width:100%;height:40%;text-align:center;text-shadow:0px 1px 0px rgba(220,220,220,0.5);">Moonlight Sonata</div>');
$("#header").append('<div id="artistaas" style="position:absolute;left:0%;top:55%;width:100%;height:24%;text-align:center;text-shadow:0px 1px 0px rgba(220,220,220,0.5);">L.V. Beethoven</div>');topOffset+=0.065*$("#header").width();$("#header").css("height",topOffset);$("#aaraas").css("font-size",abi($("#aaraas").height())+"px");$("#artistaas").css("font-size",abi($("#artistaas").height())+"px");topOffset+=1}
function aai(a,b){$("body").append('<img id="redVelvet" src="./images/redLine.png" style="z-index:5;position:absolute;left:0;top:'+topOffset+';width:100%;height:5">');topOffset+=5;$("body").append('<div id="pianoaawboard" style="border-style:solid;border-width:0px;z-index:2;position:absolute;left:0;top:'+topOffset+";width:100%;height:"+0.086*screenaan+';background-color:black"></div>');noteNames="A Bb B C C# D Eb E F F# G Ab".split(" ");keyaan=100*(1/52.5);whiteaawLeft=0.25;for(var c=a;c<
b;c++)keyIdx=c%12,1==keyIdx||4==keyIdx||6==keyIdx||9==keyIdx||11==keyIdx?(blackaawLeft=whiteaawLeft+0.74*keyaan,$("#pianoaawboard").append('<div id="key-'+c+'" class="key" style="border-style:solid; border-width:1px;z-index:3;text-align:center;position:absolute;left:'+blackaawLeft+"%;top:0px;width:"+0.55*keyaan+'%;height:52.5%;background-color:black"></div>'),$("#key-"+c).append('<b><div id="keyaas-'+c+'" class="keyaas blackaawaas" style="color:black;background-color:clearleft:0;top:50%;width:100%;height:40%;position:absolute;text-align:center;font-family:arial"></div></b>'),
$("#key-"+c).append('<b><div id="keyNoteaas-'+c+'" class="keyNoteaas blackaawNoteaas" style="color:black;background-color:clearleft:0;top:15%;width:100%;height:18%;position:absolute;text-align:center;font-family:arial">'+noteNames[keyIdx]+"</div></b>")):(c!=a&&(whiteaawLeft+=keyaan),$("#pianoaawboard").append('<div id="key-'+c+'" class="key" style="border-style:solid;border-width:2px;z-index:2;text-align:center;position:absolute;left:'+whiteaawLeft+"%;top:0px;width:"+keyaan+'%;height:94%;background-color:white"></div>'),
$("#key-"+c).append('<b><div id="keyaas-'+c+'" class="keyaas whiteaawaas" style="color:black;background-color:clearleft:0;top:72.5%;width:100%;height:30%;position:absolute;text-align:center;font-family:arial"></div></b>'),$("#key-"+c).append('<b><div id="keyNoteaas-'+c+'" class="keyNoteaas whiteaawNoteaas" style="color:black;background-color:clear;left:0;top:55%;width:100%;height:23%;position:absolute;text-align:center;font-family:arial">'+noteNames[keyIdx]+"</div></b>"));$(".whiteaawaas").css("font-size",
abi($("#keyaas-0").height())+"px");$(".whiteaawNoteaas").css("font-size",abi($("#keyNoteaas-0").height())+"px");$(".blackaawaas").css("font-size",abi($("#keyaas-1").height())+"px");$(".blackaawNoteaas").css("font-size",abi($("#keyNoteaas-1").height())+"px");$(".keyNoteaas").css("display","none");keyPressTimer=0;$(".key").bind(startEvent,function(a){clearTimeout(keyPressTimer);abn(notePress);keyPress=$(this).attr("id").replace(RegExp("key-","g"),
"");notePress=Number(keyPress)+21;MIDI.noteOn(0,notePress,90,0);MIDI.noteOff(0,notePress,0.4);$("#key-"+keyPress).css("background-color","yellow");console.log("keyPress="+keyPress);keyPressTimer=setTimeout(function(){abn(notePress)},300)})}
function aaf(){for(number=1;number<=startabt;number++)$("#aamaav-"+number).css("background-color","#cbcbcb");for(number=startabt;number<=endabt;number++)$("#aamaav-"+number).css("background-color","#FFFF99");for(number=endabt+1;number<=aar.length-1;number++)$("#aamaav-"+number).css("background-color","#cbcbcb");$("#aamaav-"+currentabt).css("background-color","#FFFF00")}
function reportBrowser(){var a=navigator.appName,b=navigator.userAgent,c,d=b.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(d&&null!=(c=b.match(/version\/([\.\d]+)/i)))d[2]=c[1];d=d?[d[1],d[2]]:[a,navigator.appVersion,"-?"];browser=d[0];a=navigator.appName;b=navigator.userAgent;if((d=b.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i))&&null!=(c=b.match(/version\/([\.\d]+)/i)))d[2]=c[1];d=d?[d[1],d[2]]:[a,navigator.appVersion,"-?"];browser=browser+" "+d[1];
-1!==userAgent.indexOf("iPad")?browser="iPad "+browser:-1!==userAgent.indexOf("iPhone")?browser="iPhone "+browser:-1!==userAgent.indexOf("Nexus")?browser="Nexus "+browser:-1!==userAgent.indexOf("SM-T210R")?browser="SamsungTab3 "+browser:-1!==userAgent.indexOf("Android")&&(browser="Android "+browser);xmlhttp=new XMLHttpRequest;xmlhttp.open("GET","city.php?brsr="+browser,!0);xmlhttp.send()}
function aaq(a,b,c,d,f,e){$("#"+a).css("position","absolute");$("#"+a).css("left",b);$("#"+a).css("top",c);$("#"+a).css("width",d);$("#"+a).css("height",f);$("#"+a).css("background-color",e)}function abi(a){$("body").append('<div id="textaas"><span id="textSpan">TextTest</span></div>');fontSize=a-3;do fontSize+=1,$("#textaas").css("font-size",fontSize),spanaal=Number($("#textSpan").css("height").replace(/px/g,""));while(spanaal<a);$("#textaas").remove();return fontSize}
var aamaavaasFontSize=[0,1,1,1,2,2,3,4,4,6,7,8,8,8,10,11,12,12,14,15,15,16,16,18,19],markerOffset=activeMarker=null;
function drawabtabe(){$("body").append('<div id="trackabb" style="position:absolute;left:0%;top:'+topOffset+";width:"+screenaan+";height:"+0.0255*screenaan+';background-color:#919191"></div>');topOffset+=0.0255*screenaan;trackaal=0.04*screenaan;$("body").append('<div id="track" style="position:absolute;left:0%;top:'+topOffset+";width:"+screenaan+";height:"+trackaal+';background-color:#919191;border-style:solid;border-width:1 0 1 0"></div>');aamaavaan=screenaan/(aar.length+
7);aamaavLeft=4*aamaavaan;aamaavaap=topOffset;topOffset+=trackaal;console.log("canvas start: "+((new Date).getTime()-startTime));var a=$('<canvas id="canvas" style="cursor:pointer;z-index:1"/>').attr({width:screenaan,height:0.04*screenaan}).appendTo("#track").get(0).getContext("2d");a.translate(4*aamaavaan,0);a.fillStyle="black";fontSize=abi(Math.floor(0.28*$("#track").height()));a.font="bold "+fontSize+" Times";a.textAlign="center";for(var b=0;b<aar.length;b++)a.fillRect(b*
aamaavaan+0.5,0,1,trackaal),(1==b||1<b&&0==b%5&&b<aar.length)&&a.fillText(b,(b-1)*aamaavaan+Math.floor(aamaavaan/2)+1,0.6*$("#track").height());console.log("canvas end: "+((new Date).getTime()-startTime));$("#canvas").bind(startEvent,function(a){selectedabt=Math.floor(Number(eval(positionX))/aamaavaan)-3;0<selectedabt&&selectedabt<aar.length&&(console.log("canvas: currentabt="+currentabt),abo(selectedabt),setCurrentMarker())})}
function aae(){$("#trackabb").append('<div id="currentMarker" class="marker" style="cursor:pointer;z-index:5;background-color:clear;position:absolute;left:'+2.5*aamaavaan+";top:0%;width:"+3*aamaavaan+';height:100%"><div>');$("#currentMarker").append('<div id="currentMarkeraas" style="z-index:1;position:absolute;background-color:green;text-align:center;left:0%;top:0%;width:100%;height:100%;box-shadow:1px 1px 1px #555555;text-shadow:0px 1px 0px rgba(220,220,220,0.3);">'+startabt+
"</div>");$("#currentMarker").append('<div id="currentMarkerLine" style="z-index:1;position:absolute;background-color:green;box-shadow:1px 0px 1px #555555;left:'+(1.5*aamaavaan-1)+";top:102%;width:"+Math.floor(0.3*aamaavaan)+";height:"+($("#track").height()+1)+'"></div>');$("#track").append('<div id="startMarker" class="marker" style="cursor:pointer;z-index:5;position:absolute;left:0%;top:0%;width:'+4*aamaavaan+';height:100%"><div>');$("#startMarker").append('<img id="startMarkerImg" src="./images/startMarker.png" style="z-index:1;position:absolute;left:'+
2*aamaavaan+";top:0%;width:"+2*aamaavaan+';height:100%">');$("#startMarker").append('<div id="startMarkeraas" style="z-index:10;position:absolute;background-color:green;text-shadow:0px 1px 0px rgba(220,220,220,0.3);left:1%;top:20%;width:'+2*aamaavaan+';height:60%;text-align:center;line-height:120%;">1</div>');$("#track").append('<div id="endMarker" class="marker" style="cursor:pointer;z-index:5;position:absolute;right:0%;top:0%;width:'+4*aamaavaan+';height:100%"><div>');
$("#endMarker").append('<img id="endMarkerImg" src="./images/endMarker.png" style="z-index:1;position:absolute;right:'+(2*aamaavaan-1)+";top:0%;width:"+2*aamaavaan+';height:100%">');$("#endMarker").append('<div id="endMarkeraas" style="z-index:10;position:absolute;background-color:red;text-shadow:0px 1px 0px rgba(220,220,220,0.5);right:0%;top:20%;width:'+2*aamaavaan+';height:60%;text-align:center;line-height:120%;">1</div>');$("#trackabb").append('<div id="startMarkerInfoaas" class="markerInfoaas" style="cursor:pointer;z-index:0;background-color:clear;position:absolute;color:white;text-align:right;right:0.2%;top:20%;width:'+
6*aamaavaan+';height:60%">Drag to End<div>');$(".marker").css("font-size",abi($("#endMarkeraas").height()));$(".markerInfoaas").css("font-size",abi($("#startMarkerInfoaas").height())-2)}
function setMarkerEvents(){$(".marker").bind(startEvent,function(a){a.preventDefault();activeMarker=$(this).attr("id");newabt=Math.floor(Number(eval(positionX))/aamaavaan)-3;markerOffset=eval(activeMarker.replace(/Marker/g,"abt"))-newabt});addEvent(document,"mouseout",function(a){null==a.toElement&&null==a.relatedTarget&&(activeMarker=null)});$("body").bind("mouseup",function(a){activeMarker=null});$("body").bind(moveEvent,function(a){activeMarker&&(newabt=Math.floor(eval(positionX)/
aamaavaan)-3+markerOffset,0<newabt&&newabt<aar.length&&("endMarker"==activeMarker&&newabt!=endabt&&abq(newabt),"startMarker"==activeMarker&&newabt!=startabt&&abp(newabt),"currentMarker"==activeMarker&&newabt!=currentabt&&(aboStart=(new Date).getTime(),abo(newabt),setCurrentMarkerStart=(new Date).getTime(),setCurrentMarker())))})}function addEvent(a,b,c){a.addEventListener(b,c,!1)}
function setCurrentMarker(){position=(Math.floor(100*(delay/delayPerabt+1))/100).toFixed(2);nowabt=Number(Math.floor(position));nowabt!=currentabt&&(currentabt=nowabt);currentMarkerLeft=aamaavaan*(Number(position)+1.5);$("#currentMarker").css("left",currentMarkerLeft);$("#currentMarkeraas").text(currentabt)}function abg(a){startMarkerLeft=aamaavaan*(a-1);$("#startMarker").css("left",startMarkerLeft);$("#startMarkeraas").text(a)}
function abh(a){$("#startMarkerInfoaas").css("display","none");endMarkerLeft=aamaavaan*(a+4);$("#endMarker").css("left",endMarkerLeft);$("#endMarkeraas").text(a)}
var transposeValue=0,transMinusButtonEnabled=1,transPlusButtonEnabled=1,speedMinusButtonEnabled=1,speedPlusButtonEnabled=1,startabt=currentabt=1,endabt=aar.length-1,startabs=delay=0,endabs=endabt*delayPerabt,FAST_FORWARD=0.01,leftHandEnabled=1,rightHandEnabled=1,metronomeEnabled=0,currentMetronomeaav=100,notesEnabled=0,feedbackFormDisplayed=zoomEnabled=0,notePress=21;
function aag(){$("body").append('<div id="controls" style="position:absolute;left:0%;top:'+topOffset+";width:"+screenaan+";height:"+0.0645*screenaan+'"></div>');topOffset+=0.0645*screenaan;$("#controls").append('<img src="./images/controlsBackground.png" style="position:absolute;left:0%;top:0%;width:100%;height:100%">');controlsLeft=3;$("#controls").append('<img id="leftHand" src="./images/leftHandEnabled.png" on'+startEvent+'="abcPressLeftHand()" style="position:absolute;left:'+controlsLeft+
'%;top:25%;height:60%">');$("#controls").append('<div id="leftHandaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:4%;text-align:center;background-color:clear" class="ctrlaas">Left On</div>');controlsLeft+=6;$("#controls").append('<img id="rightHand" src="./images/rightHandEnabled.png" on'+startEvent+'="abcPressRightHand()"  style="position:absolute;left:'+controlsLeft+'%;top:25%;height:60%">');$("#controls").append('<div id="rightHandaas" style="position:absolute;left:'+
controlsLeft+'%;top:6%;height:15%;width:4%;text-align:center;background-color:clear" class="ctrlaas">Right On</div>');controlsLeft+=6;$("#controls").append('<img id="divider1" src="./images/divider.png" style="position:absolute;left:'+controlsLeft+'%;top:0%;width:1.3%;height:100%">');controlsLeft+=3.5;$("#controls").append('<img id="transMinusButton" src="./images/minusButtonEnabled.png" on'+startEvent+'="abcPressTransMinusButton()" style="position:absolute;left:'+controlsLeft+'%;top:25%;height:60%">');
$("#controls").append('<img id="transPlusButton" src="./images/plusButtonEnabled.png" on'+startEvent+'="abcPressTransPlusButton()" style="position:absolute;left:'+(controlsLeft+5)+'%;top:25%;height:60%">');$("#controls").append('<div id="transpositionaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:9%;text-align:center;background-color:clear" class="ctrlaas">Transpostion (0)</div>');controlsLeft+=12;$("#controls").append('<img id="notesButton" src="./images/notesDisabled.png" on'+
startEvent+'="abcPressNotes()" style="position:absolute;left:'+controlsLeft+'%;top:25%;height:60%">');$("#controls").append('<div id="notesaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:4%;text-align:center;background-color:clear" class="ctrlaas">Notes Off</div>');controlsLeft+=6;$("#controls").append('<img id="divider2" src="./images/divider.png" style="position:absolute;left:'+controlsLeft+'%;top:0%;width:1.3%;height:100%">');controlsLeft+=3;$("#controls").append('<img id="playBtn" src="./images/playLoading.gif" on'+
startEvent+'="abcabj()" style="position:absolute;left:'+controlsLeft+'%;top:25%;height:60%;width:4%">');$("#controls").append('<div id="playaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:4%;text-align:center;background-color:clear" class="ctrlaas">Play</div>');controlsLeft+=5.5;$("#controls").append('<img id="divider3" src="./images/divider.png" style="position:absolute;left:'+controlsLeft+'%;top:0%;width:1.3%;height:100%">');controlsLeft+=4;$("#controls").append('<img id="metronome" src="./images/metronomeDisabled.png" on'+
startEvent+'="abcPressMetronome()" style="position:absolute;left:'+controlsLeft+'%;top:25%;height:60%;width:4%">');$("#controls").append('<div id="metroaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:4%;text-align:center;background-color:clear" class="ctrlaas">Metro Off</div>');controlsLeft+=7;$("#controls").append('<img id="speedMinusButton" src="./images/minusButtonEnabled.png" on'+startEvent+'="abcPressSpeedMinusButton()" style="position:absolute;left:'+controlsLeft+
'%;top:25%;height:60%">');$("#controls").append('<img id="speedPlusButton" src="./images/plusButtonEnabled.png" on'+startEvent+'="abcPressSpeedPlusButton()" style="position:absolute;left:'+(controlsLeft+5)+'%;top:25%;height:60%">');$("#controls").append('<div id="speedaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:9%;text-align:center;background-color:clear" class="ctrlaas">Speed: (100%)</div>');controlsLeft+=11;$("#controls").append('<img id="divider4" src="./images/divider.png" style="position:absolute;left:'+
controlsLeft+'%;top:0%;width:1.3%;height:100%">');controlsLeft+=4;$("#controls").append('<img id="zoom" src="./images/zoomIn.png" on'+startEvent+'="abcPressZoom()" style="position:absolute;left:'+controlsLeft+'%;top:25%;height:60%;width:4%">');$("#controls").append('<div id="zoomaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:4%;text-align:center;background-color:clear" class="ctrlaas">Zoom</div>');controlsLeft+=8;$("#controls").append('<img id="fullScreenButton" src="./images/fullScreen.png" on'+
startEvent+'="abcPressFullScreenButton()" style="position:absolute;left:'+controlsLeft+'%;top:23%;height:67%;width:4%">');$("#controls").append('<div id="fullScreenaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:4%;text-align:center;background-color:clear" class="ctrlaas">Full Screen</div>');controlsLeft+=8;$("#controls").append('<img id="feedbackButton" src="./images/feedbackIcon.png" on'+startEvent+'="abcPressFeedbackButton()" style="position:absolute;left:'+controlsLeft+
'%;top:25%;height:60%;width:4%">');$("#controls").append('<div id="feedbackaas" style="position:absolute;left:'+controlsLeft+'%;top:6%;height:15%;width:4%;text-align:center;background-color:clear" class="ctrlaas">Feedback</div>');controlsLeft+=5.5;$(".ctrlaas").css("font-size",abi($("#leftHandaas").height())+"px")}
function abcPressFullScreenButton(){element=document.body;requestMethod=element.requestFullScreen||element.webkitRequestFullScreen||element.mozRequestFullScreen||element.msRequestFullScreen;requestMethod.call(element);$("#fullScreenButton").attr("src","./images/cancelFullScreen.jpeg");$("#fullScreenButton").attr("on"+startEvent,"abcPressCancelFullScreenButton()");$("#fullScreenaas").text("Exit")}var abcDrawFeedback=0;
function abcPressFeedbackButton(){abcDrawFeedback||(abcDrawFeedback=1,drawFeedback());"http://watchandrepeat.com/images/pauseButton.png"==$("#playBtn").attr("src")&&abcabk();feedbackFormDisplayed=1;$("#feedbackForm").css("display","")}
function abcPressCancelFullScreenButton(){element=document;requestMethod=element.cancelFullScreen||element.webkitCancelFullScreen||element.mozCancelFullScreen||element.exitFullscreen;requestMethod.call(element);$("#fullScreenButton").attr("src","./images/fullScreen.png");$("#fullScreenButton").attr("on"+startEvent,"abcPressFullScreenButton()");$("#fullScreenaas").text("Full Screen")}
function abcPressLeftHand(){leftHandEnabled?($("#leftHand").attr("src","./images/leftHandDisabled.png"),leftHandEnabled=0,rightHandEnabled||abcPressRightHand(),$("#leftHand").attr("src","./images/leftHandDisabled.png"),$("#leftHandaas").text("Left Off"),abl("left")):($("#leftHand").attr("src","./images/leftHandEnabled.png"),$("#leftHandaas").text("Left On"),leftHandEnabled=1)}
function abcPressRightHand(){rightHandEnabled?($("#rightHand").attr("src","./images/rightHandDisabled.png"),rightHandEnabled=0,leftHandEnabled||abcPressLeftHand(),$("#rightHandaas").text("Right Off"),abl("right")):($("#rightHand").attr("src","./images/rightHandEnabled.png"),$("#rightHandaas").text("Right On"),rightHandEnabled=1)}
function abcPressTransMinusButton(){transMinusButtonEnabled&&($("#transPlusButton").attr("src","./images/plusButtonEnabled.png"),transPlusButtonEnabled=1,setTransposition(transposeValue-1),-6==transposeValue&&($("#transMinusButton").attr("src","./images/minusButtonDisabled.png"),transMinusButtonEnabled=0))}
function abcPressTransPlusButton(){transPlusButtonEnabled&&($("#transMinusButton").attr("src","./images/minusButtonEnabled.png"),transMinusButtonEnabled=1,setTransposition(transposeValue+1),6==transposeValue&&($("#transPlusButton").attr("src","./images/plusButtonDisabled.png"),transPlusButtonEnabled=0))}
function abcPressSpeedMinusButton(){speedMinusButtonEnabled&&($("#speedPlusButton").attr("src","./images/plusButtonEnabled.png"),speedPlusButtonEnabled=1,abr(currentMetronomeaav-10),10==currentMetronomeaav&&($("#speedMinusButton").attr("src","./images/minusButtonDisabled.png"),speedMinusButtonEnabled=0))}
function abcPressSpeedPlusButton(){speedPlusButtonEnabled&&($("#speedMinusButton").attr("src","./images/minusButtonEnabled.png"),speedMinusButtonEnabled=1,abr(currentMetronomeaav+10),120==currentMetronomeaav&&($("#speedPlusButton").attr("src","./images/plusButtonDisabled.png"),speedPlusButtonEnabled=0))}
function abcPressMetronome(){metronomeEnabled?($("#metronome").attr("src","./images/metronomeDisabled.png"),$("#metroaas").text("Metro Off"),metronomeEnabled=0):($("#metronome").attr("src","./images/metronomeEnabled.png"),$("#metroaas").text("Metro On"),metronomeEnabled=1)}
function abcPressZoom(){zoomEnabled?($("#zoom").attr("src","./images/zoomIn.png"),$("#zoomaas").text("Zoom In"),$("#pianoaawboard").css("left","0%"),$("#pianoaawboard").css("width",screenaan),$("#pianoaawboard").css("height",0.085*screenaan),zoomEnabled=0):($("#zoom").attr("src","./images/zoomOut.png"),$("#zoomaas").text("Zoom Out"),$("#pianoaawboard").css("left","-15%"),$("#pianoaawboard").css("width","150.3%"),$("#pianoaawboard").css("height",0.124*screenaan),zoomEnabled=1);$(".whiteaawaas").css("font-size",
abi($("#keyaas-0").height())+"px");$(".whiteaawNoteaas").css("font-size",abi($("#keyNoteaas-0").height())+"px");$(".blackaawaas").css("font-size",abi($("#keyaas-1").height())+"px");$(".blackaawNoteaas").css("font-size",abi($("#keyNoteaas-1").height())+"px")}
function abcPressNotes(){notesEnabled?($("#notesButton").attr("src","./images/notesDisabled.png"),$("#notesaas").text("Notes Off"),notesEnabled=0):($("#notesButton").attr("src","./images/notesEnabled.png"),$("#notesaas").text("Notes On"),notesEnabled=1)}
function drawFeedback(){feedbackFormaan=0.4*screenaan;feedbackFormaal=0.3*screenaan;feedbackFormLeft=(screenaan-feedbackFormaan)/2;feedbackFormaap=0.05*screenaan;$("body").append('<div id="feedbackForm"></div>');aaq("feedbackForm",feedbackFormLeft,feedbackFormaap,feedbackFormaan,feedbackFormaal,"green");$("#feedbackForm").css("z-index","6");$("#feedbackForm").css("display","none");feedbackFormaasLeft=0.1*feedbackFormaan;feedbackFormaasaap=0.05*feedbackFormaal;feedbackFormaasaan=
feedbackFormaan-feedbackFormaasLeft;feedbackFormaasaal=0.07*feedbackFormaal;$("#feedbackForm").append('<div id="feedbackFormaas">Tell us what you think about our site.</div>');aaq("feedbackFormaas",feedbackFormaasLeft,feedbackFormaasaap,feedbackFormaasaan,feedbackFormaasaal,"clear");$("#feedbackFormaas").css("text-align","left");feedbackFormEmailTaaan=0.8*feedbackFormaan;feedbackFormEmailTaLeft=(feedbackFormaan-feedbackFormEmailTaaan)/2;feedbackFormEmailTaaap=
0.15*feedbackFormaal;feedbackFormEmailTaaal=0.09*feedbackFormaal;$("#feedbackForm").append('<textarea name="message" id="feedbackFormEmailTa" rows="1" cols="30" wrap="SOFT">myEmail@domain.com</textarea>');aaq("feedbackFormEmailTa",feedbackFormEmailTaLeft,feedbackFormEmailTaaap,feedbackFormEmailTaaan,feedbackFormEmailTaaal,"clear");$("#feedbackFormEmailTa").css("text-align","left");$("#feedbackFormEmailTa").css("font-size",$("#feedbackFormaas").css("font-size").replace(/px/g,
"")-4);$("#feedbackFormEmailTa").bind(startEvent,function(a){$("#feedbackFormEmailTa").val("")});feedbackFormTextAreaaan=0.8*feedbackFormaan;feedbackFormTextAreaLeft=(feedbackFormaan-feedbackFormTextAreaaan)/2;feedbackFormTextAreaaap=0.3*feedbackFormaal;feedbackFormTextAreaaal=0.55*feedbackFormaal;$("#feedbackForm").append('<textarea name="message" id="feedbackFormTextArea" rows="5" cols="30" wrap="SOFT">Type your message here ...</textarea>');aaq("feedbackFormTextArea",feedbackFormTextAreaLeft,
feedbackFormTextAreaaap,feedbackFormTextAreaaan,feedbackFormTextAreaaal,"clear");$("#feedbackFormTextArea").css("text-align","left");$("#feedbackFormTextArea").css("font-size",$("#feedbackFormaas").css("font-size").replace(/px/g,"")-4);$("#feedbackFormTextArea").bind(startEvent,function(a){$("#feedbackFormTextArea").val("")});sendButtonaan=0.15*feedbackFormaan;sendButtonLeft=feedbackFormTextAreaLeft+feedbackFormTextAreaaan-sendButtonaan;sendButtonaap=0.9*feedbackFormaal;sendButtonaal=
0.06*feedbackFormaal;$("#feedbackForm").append('<input id="sendButton" type="button" name="send" value="Send" style="border:none">');aaq("sendButton",sendButtonLeft,sendButtonaap,sendButtonaan,sendButtonaal,"clear");$("#sendButton").bind(startEvent,function(a){a=$("textarea#feedbackFormTextArea").val();if(""==a)return $("#feedbackFormTextArea").focus(),!1;var b=$("textarea#feedbackFormEmailTa").val();if(""==b)return $("#feedbackFormEmailTa").focus(),!1;$.ajax({type:"POST",url:"./php/feedback.php",
data:"&message="+a+"&email="+b,success:function(){$("#feedbackForm").css("display","none");feedbackFormDisplayed=0;$("#feedbackFormThanksaas").css("display","");setTimeout(function(){$("#feedbackFormThanksaas").css("display","none")},2E3)}});return!1});cancelButtonLeft=sendButtonLeft-1.4*sendButtonaan;cancelButtonaap=0.9*feedbackFormaal;cancelButtonaan=sendButtonaan;cancelButtonaal=sendButtonaal;$("#feedbackForm").append('<input id="cancelButton" type="button" name="cancel" value="Cancel" style="border:none">');
aaq("cancelButton",cancelButtonLeft,cancelButtonaap,cancelButtonaan,cancelButtonaal,"clear");$("#cancelButton").bind(startEvent,function(a){$("#feedbackForm").css("display","none");feedbackFormDisplayed=0});feedbackFormThanksaasLeft=feedbackFormLeft;feedbackFormThanksaasaap=feedbackFormaap;feedbackFormThanksaasaan=feedbackFormaan;feedbackFormThanksaasaal=feedbackFormaasaal;$("body").append('<div id="feedbackFormThanksaas">We appreciate your feedback. Thank you!</div>');
aaq("feedbackFormThanksaas",feedbackFormThanksaasLeft,feedbackFormThanksaasaap,feedbackFormThanksaasaan,feedbackFormThanksaasaal,"green");$("#feedbackFormThanksaas").css("display","none")}if("undefined"===typeof MIDI)var MIDI={};
(function(){var a={},b=0,c=function(c){b++;var f=new Audio,e=c.split(";")[0];f.id="audio";f.setAttribute("preload","auto");f.setAttribute("audiobuffer",!0);f.addEventListener("error",function(){a[e]=!1;b--},!1);f.addEventListener("canplaythrough",function(){a[e]=!0;b--},!1);f.src="data:"+c;document.body.appendChild(f)};MIDI.audioDetect=function(d){if("undefined"===typeof Audio)return d({});var f=new Audio;if("undefined"===typeof f.canPlayType)return d(a);var e=f.canPlayType('audio/ogg; codecs="vorbis"'),
e="probably"===e||"maybe"===e,f=f.canPlayType("audio/mpeg"),f="probably"===f||"maybe"===f;if(!e&&!f)d(a);else{e&&c("audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=");
f&&c("audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq");var g=(new Date).getTime(),k=window.setInterval(function(){var c=150<(new Date).getTime()-g;if(!b||c)window.clearInterval(k),d(a)},1)}}})();"undefined"===typeof MIDI&&(MIDI={});
"undefined"===typeof MIDI.Soundfont&&(MIDI.Soundfont={});
(function(){MIDI.loadPlugin=function(c){"function"===typeof c&&(c={callback:c});var f=c.instruments||c.instrument||"acoustic_grand_piano";"object"!==typeof f&&(f=[f]);for(var e=0;e<f.length;e++){var g=f[e];"number"===typeof g&&(f[e]=MIDI.GeneralMIDI.byId[g])}MIDI.soundfontUrl=c.soundfontUrl||MIDI.soundfontUrl||"./soundfont/";MIDI.audioDetect(function(e){var h="",h=b[c.api]?c.api:b[window.location.hash.substr(1)]?window.location.hash.substr(1):window.webkitAudioContext||window.AudioContext?"webaudio":
window.Audio?"audiotag":"flash";if(a[h])a[h](c.targetFormat?c.targetFormat:e["audio/ogg"]?"ogg":"mp3",f,c)})};var a={webmidi:function(a,c,b){MIDI.loader&&MIDI.loader.message("Web MIDI API...");MIDI.WebMIDI.connect(b)},flash:function(a,c,b){MIDI.loader&&MIDI.loader.message("Flash API...");DOMLoader.script.add({src:b.soundManagerUrl||"./inc/SoundManager2/script/soundmanager2.js",verify:"SoundManager",callback:function(){MIDI.Flash.connect(c,b)}})},audiotag:function(a,b,e){MIDI.loader&&MIDI.loader.message("HTML5 Audio API...");
var g=c({items:b,getNext:function(b){DOMLoader.script.add({src:MIDI.soundfontUrl+b+"-"+a+".js",verify:"MIDI.Soundfont."+b,callback:function(){MIDI.loader&&MIDI.loader.update(null,"Downloading...",100);g.getNext()}})},onComplete:function(){MIDI.AudioTag.connect(e)}})},webaudio:function(a,b,e){MIDI.loader&&MIDI.loader.message("Web Audio API...");var g=c({items:b,getNext:function(b){DOMLoader.script.add({src:MIDI.soundfontUrl+b+"-"+a+".js",verify:"MIDI.Soundfont."+b,callback:function(){MIDI.loader&&
MIDI.loader.update(null,"Downloading...",100);g.getNext()}})},onComplete:function(){MIDI.WebAudio.connect(e)}})}},b={webmidi:!0,webaudio:!0,audiotag:!0,flash:!0},c=function(a){var b={queue:[]},c;for(c in a.items)b.queue.push(a.items[c]);b.getNext=function(){if(!b.queue.length)return a.onComplete();a.getNext(b.queue.shift())};setTimeout(b.getNext,1);return b}})();"undefined"===typeof MIDI&&(MIDI={});
(function(){var a=function(a){MIDI.api=a.api;MIDI.setVolume=a.setVolume;MIDI.programChange=a.programChange;MIDI.noteOn=a.noteOn;MIDI.noteOff=a.noteOff;MIDI.chordOn=a.chordOn;MIDI.chordOff=a.chordOff;MIDI.stopAllNotes=a.stopAllNotes;MIDI.getInput=a.getInput;MIDI.getOutputs=a.getOutputs};(function(){var b=null,c=null,d=MIDI.WebMIDI={api:"webmidi"};d.setVolume=function(a,b){c.send([176+a,7,b])};d.programChange=function(a,b){c.send([192+a,b])};d.noteOn=function(a,b,d,k){c.send([144+a,b,d],1E3*k)};d.noteOff=
function(a,b,d){c.send([128+a,b,0],1E3*d)};d.chordOn=function(a,b,d,k){for(var h=0;h<b.length;h++)c.send([144+a,b[h],d],1E3*k)};d.chordOff=function(a,b,d){for(var k=0;k<b.length;k++)c.send([128+a,b[k],0],1E3*d)};d.stopAllNotes=function(){for(var a=0;16>a;a++)c.send([176+a,123,0])};d.getInput=function(){return b.getInputs()};d.getOutputs=function(){return b.getOutputs()};d.connect=function(f){a(d);navigator.requestMIDIAccess().then(function(a){b=a;c=b.outputs()[0];f.callback&&f.callback()},function(a){f.api=
window.AudioContext||window.webkitAudioContext?"webaudio":window.Audio?"audiotag":"flash";MIDI.loadPlugin(f)})}})();(window.AudioContext||window.webkitAudioContext)&&function(){(new Date).getTime();var b=window.AudioContext||window.webkitAudioContext,c=MIDI.WebAudio={api:"webaudio"},d,f={},e=127,g={},k=function(a,b,c,m,f){var e=MIDI.GeneralMIDI.byName[a],t=e.number,k=b[c];if(!MIDI.Soundfont[a][k])return f(a);var q=MIDI.Soundfont[a][k].split(",")[1],q=Base64Binary.decodeArrayBuffer(q);d.decodeAudioData(q,
function(d){for(var q=k;3>q.length;)q+="&nbsp;";"undefined"!==typeof MIDI.loader&&MIDI.loader.update(null,e.instrument+"<br>Processing: "+(100*(c/87)>>0)+"%<br>"+q);d.id=k;m[c]=d;if(m.length===b.length){for(;m.length;)(d=m.pop())&&(g[t+""+MIDI.keyToNote[d.id]]=d);f(a)}})};c.setVolume=function(a,b){e=b};c.programChange=function(a,b){MIDI.channels[a].instrument=b};c.noteOn=function(a,b,c,m){if(MIDI.channels[a]){var s=MIDI.channels[a].instrument;if(g[s+""+b]){m<d.currentTime&&(m+=d.currentTime);var p=
d.createBufferSource();f[a+""+b]=p;p.buffer=g[s+""+b];p.connect(d.destination);p.gainNode=d.createGain?d.createGain():d.createGainNode();a=2*c/127*(e/127)-1;p.gainNode.connect(d.destination);p.gainNode.gain.value=Math.max(-1,a);p.connect(p.gainNode);p.noteOn?p.noteOn(m||0):p.start(m||0);return p}}};c.noteOff=function(a,b,c){c=c||0;c<d.currentTime&&(c+=d.currentTime);var m=f[a+""+b];if(m){if(m.gainNode){var e=m.gainNode.gain;e.linearRampToValueAtTime(e.value,c);e.linearRampToValueAtTime(-1,c+0.2)}m.noteOff?
m.noteOff(c+0.3):m.stop(c+0.3);delete f[a+""+b]}};c.chordOn=function(a,b,d,m){for(var f={},e,g=0,k=b.length;g<k;g++)f[e=b[g]]=c.noteOn(a,e,d,m);return f};c.chordOff=function(a,b,d){for(var m={},f,e=0,g=b.length;e<g;e++)m[f=b[e]]=c.noteOff(a,f,d);return m};c.stopAllNotes=function(){for(var a in f){var b=0;b<d.currentTime&&(b+=d.currentTime);f[a].gain.linearRampToValueAtTime(1,b);f[a].gain.linearRampToValueAtTime(0,b+0.2);f[a].noteOff(b+0.3)}};c.connect=function(f){a(c);MIDI.Player.ctx=d=new b;var e=
[],g=MIDI.keyToNote,m;for(m in g)e.push(m);var g=[],s={};m=function(a){delete s[a];for(var b in s)break;b||f.callback()};for(var p in MIDI.Soundfont){s[p]=!0;for(var t=0;t<e.length;t++)k(p,e,t,g,m)}}}();window.Audio&&function(){for(var b=MIDI.AudioTag={api:"audiotag"},c={},d=127,f=-1,e=[],g=[],k={},h=0;12>h;h++)e[h]=new Audio;var l=function(a,b){if(MIDI.channels[a]){var c=MIDI.GeneralMIDI.byId[MIDI.channels[a].instrument].id;if(b=k[b]){var n=(f+1)%e.length,h=e[n];g[n]=c+""+b.id;h.src=MIDI.Soundfont[c][b.id];
h.volume=d/127;h.play();f=n}}},n=function(a,b){if(MIDI.channels[a]){var c=MIDI.GeneralMIDI.byId[MIDI.channels[a].instrument].id;if(b=k[b])for(var c=c+""+b.id,d=0;d<e.length;d++){var n=(d+f+1)%e.length,h=g[n];if(h&&h==c){e[n].pause();g[n]=null;break}}}};b.programChange=function(a,b){MIDI.channels[a].instrument=b};b.setVolume=function(a,b){d=b};b.noteOn=function(a,b,d,f){var e=c[b];if(k[e]){if(f)return window.setTimeout(function(){l(a,e)},1E3*f);l(a,e)}};b.noteOff=function(a,b,d){var e=c[b];if(k[e]){if(d)return setTimeout(function(){n(a,
e)},1E3*d);n(a,e)}};b.chordOn=function(a,b,d,e){for(d=0;d<b.length;d++){var f=c[b[d]];if(k[f]){if(e)return window.setTimeout(function(){l(a,f)},1E3*e);l(a,f)}}};b.chordOff=function(a,b,d){for(var e=0;e<b.length;e++){var f=c[b[e]];if(k[f]){if(d)return window.setTimeout(function(){n(a,f)},1E3*d);n(a,f)}}};b.stopAllNotes=function(){for(var a=0,b=e.length;a<b;a++)e[a].pause()};b.connect=function(d){for(var e in MIDI.keyToNote)c[MIDI.keyToNote[e]]=e,k[e]={id:e};a(b);d.callback&&d.callback()}}();(function(){var b=
MIDI.Flash={api:"flash"},c={},d={};b.programChange=function(a,b){MIDI.channels[a].instrument=b};b.setVolume=function(a,b){};b.noteOn=function(a,b,g,k){if(MIDI.channels[a]&&(b=MIDI.GeneralMIDI.byId[MIDI.channels[a].instrument].number+""+c[b],d[b])){if(k)return window.setTimeout(function(){d[b].play({volume:2*g})},1E3*k);d[b].play({volume:2*g})}};b.noteOff=function(a,b,c){};b.chordOn=function(a,b,g,k){if(MIDI.channels[a]){a=MIDI.GeneralMIDI.byId[MIDI.channels[a].instrument].number;for(var h in b)k=
a+""+c[b[h]],d[k]&&d[k].play({volume:2*g})}};b.chordOff=function(a,b,c){};b.stopAllNotes=function(){};b.connect=function(f,e){soundManager.flashVersion=9;soundManager.useHTML5Audio=!0;soundManager.url=e.soundManagerSwfUrl||"../inc/SoundManager2/swf/";soundManager.useHighPerformance=!0;soundManager.wmode="transparent";soundManager.flashPollingInterval=1;soundManager.debugMode=!1;soundManager.onload=function(){for(var g=function(a,b,c){d[MIDI.GeneralMIDI.byName[a].number+""+b]=soundManager.createSound({id:b,
url:MIDI.soundfontUrl+a+"-mp3/"+b+".mp3",multiShot:!0,autoLoad:!0,onload:c})},h=[],l=88*f.length,n=0;n<f.length;n++)for(var m=f[n],s=function(){h.push(this.sID);"undefined"!==typeof MIDI.loader&&MIDI.loader.update(null,"Processing: "+this.sID)},p=0;88>p;p++)g(m,c[p+21],s);a(b);var t=window.setInterval(function(){h.length<l||(window.clearInterval(t),e.callback&&e.callback())},25)};soundManager.onerror=function(){};for(var g in MIDI.keyToNote)c[MIDI.keyToNote[g]]=g}})();MIDI.GeneralMIDI=function(a){var c=
function(a){return a.replace(/[^a-z0-9 ]/gi,"").replace(/[ ]/g,"_").toLowerCase()},d={byName:{},byId:{},byCategory:{}},f;for(f in a)for(var e=a[f],g=0,k=e.length;g<k;g++){var h=e[g];if(h){var l=parseInt(h.substr(0,h.indexOf(" ")),10),h=h.replace(l+" ","");d.byId[--l]=d.byName[c(h)]=d.byCategory[c(f)]={id:c(h),instrument:h,number:l,category:f}}}return d}({Piano:"1 Acoustic Grand Piano;2 Bright Acoustic Piano;3 Electric Grand Piano;4 Honky-tonk Piano;5 Electric Piano 1;6 Electric Piano 2;7 Harpsichord;8 Clavinet".split(";"),
"Chromatic Percussion":"9 Celesta;10 Glockenspiel;11 Music aav;12 Vibraphone;13 Marimba;14 Xylophone;15 Tubular Bells;16 Dulcimer".split(";"),Organ:"17 Drawbar Organ;18 Percussive Organ;19 Rock Organ;20 Church Organ;21 Reed Organ;22 Accordion;23 Harmonica;24 Tango Accordion".split(";"),Guitar:"25 Acoustic Guitar (nylon);26 Acoustic Guitar (steel);27 Electric Guitar (jazz);28 Electric Guitar (clean);29 Electric Guitar (muted);30 Overdriven Guitar;31 Distortion Guitar;32 Guitar Harmonics".split(";"),
Bass:"33 Acoustic Bass;34 Electric Bass (finger);35 Electric Bass (pick);36 Fretless Bass;37 Slap Bass 1;38 Slap Bass 2;39 Synth Bass 1;40 Synth Bass 2".split(";"),Strings:"41 Violin;42 Viola;43 Cello;44 Contrabass;45 Tremolo Strings;46 Pizzicato Strings;47 Orchestral Harp;48 Timpani".split(";"),Ensemble:"49 String Ensemble 1;50 String Ensemble 2;51 Synth Strings 1;52 Synth Strings 2;53 Choir Aahs;54 Voice Oohs;55 Synth Choir;56 Orchestra Hit".split(";"),Brass:"57 Trumpet;58 Trombone;59 Tuba;60 Muted Trumpet;61 French Horn;62 Brass Section;63 Synth Brass 1;64 Synth Brass 2".split(";"),
Reed:"65 Soprano Sax;66 Alto Sax;67 Tenor Sax;68 Baritone Sax;69 Oboe;70 English Horn;71 Bassoon;72 Clarinet".split(";"),Pipe:"73 Piccolo;74 Flute;75 Recorder;76 Pan Flute;77 Blown Bottle;78 Shakuhachi;79 Whistle;80 Ocarina".split(";"),"Synth Lead":"81 Lead 1 (square);82 Lead 2 (sawtooth);83 Lead 3 (calliope);84 Lead 4 (chiff);85 Lead 5 (charang);86 Lead 6 (voice);87 Lead 7 (fifths);88 Lead 8 (bass + lead)".split(";"),"Synth Pad":"89 Pad 1 (new age);90 Pad 2 (warm);91 Pad 3 (polysynth);92 Pad 4 (choir);93 Pad 5 (bowed);94 Pad 6 (metallic);95 Pad 7 (halo);96 Pad 8 (sweep)".split(";"),
"Synth Effects":"97 FX 1 (rain);98 FX 2 (soundtrack);99 FX 3 (crystal);100 FX 4 (atmosphere);101 FX 5 (brightness);102 FX 6 (goblins);103 FX 7 (echoes);104 FX 8 (sci-fi)".split(";"),Ethnic:"105 Sitar;106 Banjo;107 Shamisen;108 Koto;109 Kalimba;110 Bagpipe;111 Fiddle;112 Shanai".split(";"),Percussive:"113 Tinkle Bell;114 Agogo;115 Steel Drums;116 Woodblock;117 Taiko Drum;118 Melodic Tom;119 Synth Drum".split(";"),"Sound effects":"120 Reverse Cymbal;121 Guitar Fret Noise;122 Breath Noise;123 Seashore;124 Bird Tweet;125 Telephone Ring;126 Helicopter;127 Applause;128 Gunshot".split(";")});
MIDI.channels=function(){for(var a={},c=0;16>c;c++)a[c]={instrument:0,mute:!1,mono:!1,omni:!1,solo:!1};return a}();MIDI.pianoaawOffset=21;MIDI.keyToNote={};MIDI.noteToaaw={};(function(){for(var a="C Db D Eb E F Gb G Ab A Bb B".split(" "),c=21;108>=c;c++){var d=a[c%12]+((c-12)/12>>0);MIDI.keyToNote[d]=c;MIDI.noteToaaw[c]=d}})()})();"undefined"===typeof MIDI&&(MIDI={});"undefined"===typeof MIDI.Player&&(MIDI.Player={});
(function(){var a=MIDI.Player;a.callback=void 0;a.currentTime=0;a.endTime=0;a.restart=0;a.playing=!1;a.timeWarp=1;a.start=a.resume=function(){-1>a.currentTime&&(a.currentTime=-1);l(a.currentTime)};a.pause=function(){var b=a.restart;n();a.restart=b};a.stop=function(){n();a.restart=0;a.currentTime=0};a.addListener=function(a){e=a};a.removeListener=function(){e=void 0};a.clearAnimation=function(){a.interval&&window.clearInterval(a.interval)};a.setAnimation=function(b){var c="function"===typeof b?b:b.callback;
b=b.interval||30;var d=0,e=0,g=0;a.clearAnimation();a.interval=window.setInterval(function(){if(0!==a.endTime){a.playing?(d=g===a.currentTime?e-(new Date).getTime():0,d=0===a.currentTime?0:a.currentTime-d,g!==a.currentTime&&(e=(new Date).getTime(),g=a.currentTime)):d=a.currentTime;var b=d/1E3,m=b/60,b=60*m+(b-60*m),m=a.endTime/1E3;-1>m-b||c({now:b,end:m,events:f})}},b)};a.loadMidiFile=function(){a.replayer=new Replayer(MidiFile(a.currentData),a.timeWarp);a.data=a.replayer.getData();a.endTime=h()};
a.loadFile=function(b,c){a.stop();if(-1!==b.indexOf("base64,")){var d=window.atob(b.split(",")[1]);a.currentData=d;a.loadMidiFile();c&&c(d)}else d=new XMLHttpRequest,d.open("GET",b),d.overrideMimeType("text/plain; charset=x-user-defined"),d.onreadystatechange=function(){if(4===this.readyState&&200===this.status){for(var b=this.responseText||"",d=[],e=b.length,f=String.fromCharCode,m=0;m<e;m++)d[m]=f(b.charCodeAt(m)&255);b=d.join("");a.currentData=b;a.loadMidiFile();c&&c(b)}},d.send()};var b=[],c,
d=0,f={},e=void 0,g=function(b,d,g,n,h,k){return window.setTimeout(function(){var n={channel:b,note:d,now:g,end:a.endTime,message:h,velocity:k};128===h?delete f[d]:f[d]=n;e&&e(n);a.currentTime=g;a.currentTime===c&&c<a.endTime&&l(c,!0)},g-n)},k=function(){if("WebAudioAPI"===MIDI.lang)return MIDI.Player.ctx;a.ctx||(a.ctx={currentTime:0});return a.ctx},h=function(){for(var b=a.data,c=b.length,d=0.5,e=0;e<c;e++)d+=b[e][1];return d},l=function(e,f){if(a.replayer){f||("undefined"===typeof e&&(e=a.restart),
a.playing&&n(),a.playing=!0,a.data=a.replayer.getData(),a.endTime=h());var p,l=0,x=0,q=a.data,w=k(),y=q.length;c=0.5;d=w.currentTime;for(var v=0;v<y&&100>x;v++)if(c+=q[v][1],c<e)l=c;else{e=c-l;var r=q[v][0].event;if("channel"===r.type){var u=r.channel;switch(r.subtype){case "noteOn":if(MIDI.channels[u].mute)break;p=r.noteNumber-(a.MIDIOffset||0);b.push({event:r,source:MIDI.noteOn(u,r.noteNumber,r.velocity,e/1E3+w.currentTime),interval:g(u,p,c,l,144,r.velocity)});x++;break;case "noteOff":if(MIDI.channels[u].mute)break;
p=r.noteNumber-(a.MIDIOffset||0);b.push({event:r,source:MIDI.noteOff(u,r.noteNumber,e/1E3+w.currentTime),interval:g(u,p,c,l,128)})}}}}},n=function(){var c=k();a.playing=!1;for(a.restart+=1E3*(c.currentTime-d);b.length;)c=b.pop(),window.clearInterval(c.interval),c.source&&("number"===typeof c.source?window.clearTimeout(c.source):(c=c.source,c.disconnect(0),c.noteOff?c.noteOff(0):c.stop(0)));for(var g in f)c=f[g],144===f[g].message&&e&&e({channel:c.channel,note:c.note,now:c.now,end:c.end,message:128,
velocity:c.velocity});f={}}})();"undefined"===typeof DOMLoader&&(DOMLoader={});
(function(){DOMLoader.script=function(){this.loaded={};this.loading={};return this};DOMLoader.script.prototype.add=function(a){var b=this;"string"===typeof a&&(a={src:a});var c=a.srcs;"undefined"===typeof c&&(c=[{src:a.src,verify:a.verify}]);var d=document.getElementsByTagName("head")[0],f=function(a,c){if(!b.loaded[a.src]&&!(c&&"undefined"===typeof window[c])){b.loaded[a.src]=!0;if(b.loading[a.src])b.loading[a.src]();delete b.loading[a.src];a.callback&&a.callback();"undefined"!==typeof l&&l()}},
e=[],g=function(c){"string"===typeof c&&(c={src:c,verify:a.verify});if(/([\w\d.])$/.test(c.verify))if(c.test=c.verify,"object"===typeof c.test)for(var g in c.test)e.push(c.test[g]);else e.push(c.test);b.loaded[c.src]||(g=document.createElement("script"),g.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||f(c)},g.onload=function(){f(c)},g.onerror=function(){},g.setAttribute("type","text/javascript"),g.setAttribute("src",c.src),d.appendChild(g),b.loading[c.src]=
function(){})},k=function(b){if(b)f(b,b.test);else for(var d=0;d<c.length;d++)f(c[d],c[d].test);for(var g=!0,d=0;d<e.length;d++){var h=e[d];if(h&&-1!==h.indexOf(".")){var h=h.split("."),l=window[h[0]];"undefined"!==typeof l&&(2===h.length?"undefined"===typeof l[h[1]]&&(g=!1):3===h.length&&"undefined"===typeof l[h[1]][h[2]]&&(g=!1))}else"undefined"===typeof window[h]&&(g=!1)}!a.strictOrder&&g?a.callback&&a.callback():setTimeout(function(){k(b)},10)};if(a.strictOrder){var h=-1,l=function(){h++;if(c[h]){var d=
c[h],e=d.src;b.loading[e]?b.loading[e]=function(){d.callback&&d.callback();l()}:b.loaded[e]?l():(g(d),k(d))}else a.callback&&a.callback()};l()}else{for(h=0;h<c.length;h++)g(c[h]);k()}};DOMLoader.script=new DOMLoader.script})();
(function(a){a.btoa||(a.btoa=function(a){a=escape(a);var c="",d,f,e="",g,k,h="",l=0;do d=a.charCodeAt(l++),f=a.charCodeAt(l++),e=a.charCodeAt(l++),g=d>>2,d=(d&3)<<4|f>>4,k=(f&15)<<2|e>>6,h=e&63,isNaN(f)?k=h=64:isNaN(e)&&(h=64),c=c+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h);
while(l<a.length);return c});a.atob||(a.atob=function(a){var c="",d,f,e="",g,k="",h=0;/[^A-Za-z0-9\+\/\=]/g.exec(a)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(h++)),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(h++)),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(h++)),
k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(h++)),d=d<<2|f>>4,f=(f&15)<<4|g>>2,e=(g&3)<<6|k,c+=String.fromCharCode(d),64!=g&&(c+=String.fromCharCode(f)),64!=k&&(c+=String.fromCharCode(e));while(h<a.length);return unescape(c)})})(this);
